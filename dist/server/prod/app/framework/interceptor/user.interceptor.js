"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Messages = require("../shared/messages");
function login(req, res, next) {
    if ((req.body.email === undefined) || (req.body.password === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_WRONG_PASSWORD,
            code: 401
        });
    }
    else if ((req.body.email === "") || (req.body.password === "")) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_WRONG_PASSWORD,
            code: 401
        });
    }
    next();
}
exports.login = login;
;
function create(req, res, next) {
    if ((req.body.first_name === undefined) || (req.body.email === undefined) ||
        (req.body.password === undefined) || (req.body.last_name === undefined) || (req.body.mobile_number === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    else if ((req.body.first_name === "") || (req.body.email === "") ||
        (req.body.password === "") || (req.body.last_name === "") || (req.body.mobile_number === "")) {
        next({ reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS, message: Messages.MSG_ERROR_EMPTY_FIELD, code: 401 });
    }
    next();
}
exports.create = create;
;
function createRecruiter(req, res, next) {
    console.log("req.body of reqrtr", req.body);
    console.log("req.body of reqrtr city", req.body.location.city);
    if ((req.body.company_name === undefined) || (req.body.company_size === undefined) || (req.body.email === undefined) ||
        (req.body.password === undefined) || (req.body.location.country === undefined) || (req.body.location.state === undefined) ||
        (req.body.location.city === undefined) || (req.body.location.pin === undefined) || (req.body.mobile_number === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    else if ((req.body.company_name === "") || (req.body.company_size === "") || (req.body.email === "") ||
        (req.body.password === "") || (req.body.location.country === "") || (req.body.location.state === "") ||
        (req.body.location.city === "") || (req.body.location.pin === "") || (req.body.mobile_number === "")) {
        next({ reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS, message: Messages.MSG_ERROR_EMPTY_FIELD, code: 401 });
    }
    next();
}
exports.createRecruiter = createRecruiter;
;
function changePassword(req, res, next) {
    if ((req.body.current_password === undefined) || (req.body.new_password === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    else if ((req.body.current_password === "") || (req.body.new_password === "")) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_EMPTY_FIELD,
            code: 401
        });
    }
    next();
}
exports.changePassword = changePassword;
;
function retrieve(req, res, next) {
    next();
}
exports.retrieve = retrieve;
;
function forgotPassword(req, res, next) {
    if ((req.body.email === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    else if ((req.body.email === "")) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_EMPTY_FIELD,
            code: 401
        });
    }
    next();
}
exports.forgotPassword = forgotPassword;
;
function mail(req, res, next) {
    if ((req.body.first_name === "") || (req.body.email === "") || (req.body.message === "")) {
        next({ reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS, message: Messages.MSG_ERROR_EMPTY_FIELD, code: 401 });
    }
    else if ((req.body.first_name === undefined) || (req.body.email === undefined) || (req.body.message === undefined)) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    next();
}
exports.mail = mail;
;
function update(req, res, next) {
    if (req.params._id === undefined) {
        next({
            reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
            message: Messages.MSG_ERROR_FIELD_VERIFICATION,
            code: 401
        });
    }
    next();
}
exports.update = update;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvdXNlci5pbnRlcmNlcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZDQUE4QztBQUU5QyxlQUFzQixHQUFRLEVBQUUsR0FBUSxFQUFFLElBQVM7SUFDakQsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsUUFBUSxDQUFDLGlDQUFpQztZQUNsRCxPQUFPLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtZQUMxQyxJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsUUFBUSxDQUFDLGlDQUFpQztZQUNsRCxPQUFPLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtZQUMxQyxJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxJQUFJLEVBQUUsQ0FBQztBQUNULENBQUM7QUFoQkQsc0JBZ0JDO0FBQUEsQ0FBQztBQUVGLGdCQUF1QixHQUFRLEVBQUUsR0FBUSxFQUFFLElBQVM7SUFDbEQsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQztRQUN2RSxDQUFDLEdBQUcsQ0FBQyxJ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QUMiLCJmaWxlIjoiYXBwL2ZyYW1ld29yay9pbnRlcmNlcHRvci91c2VyLmludGVyY2VwdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlc3BvbnNlU2VydmljZT1yZXF1aXJlKFwiLi4vc2hhcmVkL3Jlc3BvbnNlLnNlcnZpY2VcIik7XG5pbXBvcnQgTWVzc2FnZXM9cmVxdWlyZShcIi4uL3NoYXJlZC9tZXNzYWdlc1wiKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XG4gIGlmICgocmVxLmJvZHkuZW1haWwgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5LnBhc3N3b3JkID09PSB1bmRlZmluZWQpKSB7XG4gICAgbmV4dCh7XG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9XUk9OR19QQVNTV09SRCxcbiAgICAgIGNvZGU6IDQwMVxuICAgIH0pO1xuICB9XG4gIGVsc2UgaWYgKChyZXEuYm9keS5lbWFpbCA9PT0gXCJcIikgfHwgKHJlcS5ib2R5LnBhc3N3b3JkID09PSBcIlwiKSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfV1JPTkdfUEFTU1dPUkQsXG4gICAgICBjb2RlOiA0MDFcbiAgICB9KTtcbiAgfVxuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XG4gIGlmICgocmVxLmJvZHkuZmlyc3RfbmFtZSA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkuZW1haWwgPT09IHVuZGVmaW5lZCkgfHxcbiAgICAocmVxLmJvZHkucGFzc3dvcmQgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5Lmxhc3RfbmFtZSA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkubW9iaWxlX251bWJlciA9PT0gdW5kZWZpbmVkKSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxuICAgICAgY29kZTogNDAxXG4gICAgfSk7XG4gIH1cbiAgZWxzZSBpZiAoKHJlcS5ib2R5LmZpcnN0X25hbWUgPT09IFwiXCIpIHx8IChyZXEuYm9keS5lbWFpbCA9PT0gXCJcIikgfHxcbiAgICAocmVxLmJvZHkucGFzc3dvcmQgPT09IFwiXCIpIHx8IChyZXEuYm9keS5sYXN0X25hbWUgPT09IFwiXCIpIHx8IChyZXEuYm9keS5tb2JpbGVfbnVtYmVyID09PSBcIlwiKSkge1xuICAgIG5leHQoe3JlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLCBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRU1QVFlfRklFTEQsIGNvZGU6IDQwMX0pO1xuXG4gIH1cbiAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlY3J1aXRlcihyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xuICBjb25zb2xlLmxvZyhcInJlcS5ib2R5IG9mIHJlcXJ0clwiLCByZXEuYm9keSk7XG4gIGNvbnNvbGUubG9nKFwicmVxLmJvZHkgb2YgcmVxcnRyIGNpdHlcIiwgcmVxLmJvZHkubG9jYXRpb24uY2l0eSk7XG4gIGlmICgocmVxLmJvZHkuY29tcGFueV9uYW1lID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5jb21wYW55X3NpemUgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5LmVtYWlsID09PSB1bmRlZmluZWQpIHx8XG4gICAgKHJlcS5ib2R5LnBhc3N3b3JkID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5jb3VudHJ5ID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSB8fFxuICAgIChyZXEuYm9keS5sb2NhdGlvbi5jaXR5ID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5waW4gPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5Lm1vYmlsZV9udW1iZXIgPT09IHVuZGVmaW5lZCkpIHtcbiAgICBuZXh0KHtcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxuICAgICAgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0ZJRUxEX1ZFUklGSUNBVElPTixcbiAgICAgIGNvZGU6IDQwMVxuICAgIH0pO1xuICB9XG4gIGVsc2UgaWYgKChyZXEuYm9keS5jb21wYW55X25hbWUgPT09IFwiXCIpIHx8IChyZXEuYm9keS5jb21wYW55X3NpemUgPT09IFwiXCIpIHx8IChyZXEuYm9keS5lbWFpbCA9PT0gXCJcIikgfHxcbiAgICAocmVxLmJvZHkucGFzc3dvcmQgPT09IFwiXCIpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5jb3VudHJ5ID09PSBcIlwiKSB8fCAocmVxLmJvZHkubG9jYXRpb24uc3RhdGUgPT09IFwiXCIpIHx8XG4gICAgKHJlcS5ib2R5LmxvY2F0aW9uLmNpdHkgPT09IFwiXCIpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5waW4gPT09IFwiXCIpIHx8IChyZXEuYm9keS5tb2JpbGVfbnVtYmVyID09PSBcIlwiKSkge1xuICAgIG5leHQoe3JlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLCBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRU1QVFlfRklFTEQsIGNvZGU6IDQwMX0pO1xuXG4gIH1cbiAgbmV4dCgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XG4gIGlmICgocmVxLmJvZHkuY3VycmVudF9wYXNzd29yZCA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkubmV3X3Bhc3N3b3JkID09PSB1bmRlZmluZWQgKSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxuICAgICAgY29kZTogNDAxXG4gICAgfSk7XG4gIH1cbiAgZWxzZSBpZiAoKHJlcS5ib2R5LmN1cnJlbnRfcGFzc3dvcmQgPT09IFwiXCIpIHx8IChyZXEuYm9keS5uZXdfcGFzc3dvcmQgPT09IFwiXCIpKSB7XG4gICAgbmV4dCh7XG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9FTVBUWV9GSUVMRCxcbiAgICAgIGNvZGU6IDQwMVxuICAgIH0pO1xuICB9XG4gIG5leHQoKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZXRyaWV2ZShyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xuICBuZXh0KCk7XG5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZChyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xuICBpZiAoKHJlcS5ib2R5LmVtYWlsID09PSB1bmRlZmluZWQgKSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxuICAgICAgY29kZTogNDAxXG4gICAgfSk7XG4gIH1cbiAgZWxzZSBpZiAoKHJlcS5ib2R5LmVtYWlsID09PSBcIlwiKSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRU1QVFlfRklFTEQsXG4gICAgICBjb2RlOiA0MDFcbiAgICB9KTtcbiAgfVxuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFpbChyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xuICBpZiAoKHJlcS5ib2R5LmZpcnN0X25hbWUgPT09IFwiXCIgKSB8fCAocmVxLmJvZHkuZW1haWwgPT09IFwiXCIgKSB8fCAocmVxLmJvZHkubWVzc2FnZSA9PT0gXCJcIiApKSB7XG4gICAgbmV4dCh7cmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9FTVBUWV9GSUVMRCwgY29kZTogNDAxfSk7XG4gIH1cbiAgZWxzZSBpZiAoKHJlcS5ib2R5LmZpcnN0X25hbWUgPT09IHVuZGVmaW5lZCApIHx8IChyZXEuYm9keS5lbWFpbCA9PT0gdW5kZWZpbmVkICkgfHwgKHJlcS5ib2R5Lm1lc3NhZ2UgPT09IHVuZGVmaW5lZCApKSB7XG4gICAgbmV4dCh7XG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9GSUVMRF9WRVJJRklDQVRJT04sXG4gICAgICBjb2RlOiA0MDFcbiAgICB9KTtcbiAgfVxuICBuZXh0KCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XG4gIGlmIChyZXEucGFyYW1zLl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbmV4dCh7XG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9GSUVMRF9WRVJJRklDQVRJT04sXG4gICAgICBjb2RlOiA0MDFcbiAgICB9KTtcbiAgfVxuICBuZXh0KCk7XG59O1xuIl19
