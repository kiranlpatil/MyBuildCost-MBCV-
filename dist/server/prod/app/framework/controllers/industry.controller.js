"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
var CNextMessages = require("../shared/cnext-messages");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieveAll(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: CNextMessages.MSG_NOT_FOUND_ANY_RECORD_OF_INDUSTRY,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry_1 = req.body;
        var industryService = new IndustryService();
        industryService.create(newIndustry_1, function (error, result) {
            if (error) {
                console.log("crt role error", error);
            }
            else {
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": "Data inserted Successfully in Industry",
                        "code": newIndustry_1.code,
                        "name": newIndustry_1.name,
                        "roles": newIndustry_1.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ "status": Messages.STATUS_ERROR, "error_message": e.message });
    }
}
exports.create = create;
function getReleventIndustryList(req, res, next) {
    try {
        var rolesparam = req.query.roles;
        var industryName = req.query.industryName;
        var industryService = new IndustryService();
        industryService.getReleventIndustryList(rolesparam, industryName, function (error, response) {
            if (error) {
                next({
                    reason: Messages.MSG_ERROR_RSN_EXISTING_USER,
                    message: Messages.MSG_ERROR_VERIFY_ACCOUNT,
                    code: 403
                });
            }
            else {
                res.send({
                    'status': 'success',
                    'data': response,
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.getReleventIndustryList = getReleventIndustryList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvaW5kdXN0cnkuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDZDQUFnRDtBQUloRCw4REFBaUU7QUFVakUsd0RBQTJEO0FBRzNELGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxhQUFhLENBQUMsb0NBQW9DO29CQUMzRCxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLE1BQU07aUJBQ2YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO0FBQ0gsQ0FBQztBQXZCRCw0QkF1QkM7QUFDRCxnQkFBdUIsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDM0UsSUFBSSxDQUFDO1FBQ0gsSUFBSSxhQUFXLEdBQWlDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDekQsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsTUFBTSxDQUFDLGFBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN2QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ25CLFFBQVEsRUFBRSxRQUFRLENBQUMsY0FBYztvQkFDakMsTUFBTSxFQUFFO3dCQUNOLFFBQVEsRUFBRSx3Q0FBd0M7d0JBQ2xELE1BQU0sRUFBRSxhQUFXLENBQUMsSUFBSTt3QkFDeEIsTUFBTSxFQUFFLGFBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsYUFBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsWUFBWSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0FBQ0gsQ0FBQztBQXpCRCx3QkF5QkM7QUFFRCxpQ0FBd0MsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDNUYsSUFBSSxDQUFDO1FBQ0gsSUFBSSxVQUFVLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDakMsSUFBSSxZQUFZLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDMUMsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsdUJBQXVCLENBQUMsVUFBVSxFQUFDLFlBQVksRUFBRSxVQUFDLEtBQVUsRUFBRSxRQUFhO1lBQ3pGLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxRQUFRLENBQUMsMkJBQTJCO29CQUM1QyxPQUFPLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtvQkFDMUMsSUFBSSxFQUFFLEdBQUc7aUJBQ1YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ1AsUUFBUSxFQUFFLFNBQVM7b0JBQ25CLE1BQU0sRUFBRSxRQUFRO2lCQUNqQixDQUFDLENBQUM7WUFDTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7QUFZSCxDQUFDO0FBakNELDBEQWlDQyIsImZpbGUiOiJhcHAvZnJhbWV3b3JrL2NvbnRyb2xsZXJzL2luZHVzdHJ5LmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBBdXRoSW50ZXJjZXB0b3IgPSByZXF1aXJlKFwiLi4vaW50ZXJjZXB0b3IvYXV0aC5pbnRlcmNlcHRvclwiKTtcclxuaW1wb3J0IFNlbmRNYWlsU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9zZW5kbWFpbC5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgVXNlck1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvdXNlci5tb2RlbFwiKTtcclxuaW1wb3J0IE1lc3NhZ2VzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9tZXNzYWdlc1wiKTtcclxuaW1wb3J0IFJlc3BvbnNlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvcmVzcG9uc2Uuc2VydmljZVwiKTtcclxuaW1wb3J0IENhbmRpZGF0ZU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY2FuZGlkYXRlLm1vZGVsXCIpO1xyXG5pbXBvcnQgQ2FuZGlkYXRlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9jYW5kaWRhdGUuc2VydmljZVwiKTtcclxuaW1wb3J0IEluZHVzdHJ5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9pbmR1c3RyeS5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgSW5kdXN0cnlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2luZHVzdHJ5Lm1vZGVsXCIpO1xyXG5pbXBvcnQgUm9sZU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvcm9sZS5tb2RlbFwiKTtcclxuaW1wb3J0IENhcGFiaWxpdHlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhcGFiaWxpdHkubW9kZWxcIik7XHJcbmltcG9ydCBDb21wbGV4aXR5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9jb21wbGV4aXR5Lm1vZGVsXCIpO1xyXG5pbXBvcnQgU2NlbmFyaW9Nb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3NjZW5hcmlvLm1vZGVsXCIpO1xyXG5pbXBvcnQgU2NlbmFyaW9TZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3NjZW5hcmlvLnNlcnZpY2VcIik7XHJcbmltcG9ydCBDb21wbGV4aXR5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9jb21wbGV4aXR5LnNlcnZpY2VcIik7XHJcbmltcG9ydCBDYXBhYmlsaXR5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9jYXBhYmlsaXR5LnNlcnZpY2VcIik7XHJcbmltcG9ydCBSb2xlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9yb2xlLnNlcnZpY2VcIik7XHJcbmltcG9ydCBDTmV4dE1lc3NhZ2VzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9jbmV4dC1tZXNzYWdlc1wiKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgdHJ5IHtcclxuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICB2YXIgcGFyYW1zID0ge307XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UucmV0cmlldmVBbGwocGFyYW1zLCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KHtcclxuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIEluIFJldHJpdmluZycsLy9NZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXHJcbiAgICAgICAgICBtZXNzYWdlOiBDTmV4dE1lc3NhZ2VzLk1TR19OT1RfRk9VTkRfQU5ZX1JFQ09SRF9PRl9JTkRVU1RSWSxcclxuICAgICAgICAgIGNvZGU6IDQwMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgXCJkYXRhXCI6IHJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY2F0Y2ggKGUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHttZXNzYWdlOiBlLm1lc3NhZ2V9KTtcclxuICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHsgLy90b2RvIGNvZGUgc2hvdWxkIGJlIHJldmlldyBiZSBTdWRoYWthclxyXG4gIHRyeSB7XHJcbiAgICBsZXQgbmV3SW5kdXN0cnk6IEluZHVzdHJ5TW9kZWwgPSA8SW5kdXN0cnlNb2RlbD5yZXEuYm9keTtcclxuICAgIGxldCBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UuY3JlYXRlKG5ld0luZHVzdHJ5LCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNydCByb2xlIGVycm9yXCIsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICAgICAgICBcInN0YXR1c1wiOiBNZXNzYWdlcy5TVEFUVVNfU1VDQ0VTUyxcclxuICAgICAgICAgIFwiZGF0YVwiOiB7XHJcbiAgICAgICAgICAgIFwicmVhc29uXCI6IFwiRGF0YSBpbnNlcnRlZCBTdWNjZXNzZnVsbHkgaW4gSW5kdXN0cnlcIixcclxuICAgICAgICAgICAgXCJjb2RlXCI6IG5ld0luZHVzdHJ5LmNvZGUsXHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBuZXdJbmR1c3RyeS5uYW1lLFxyXG4gICAgICAgICAgICBcInJvbGVzXCI6IG5ld0luZHVzdHJ5LnJvbGVzLFxyXG4gICAgICAgICAgICBcIl9pZFwiOiByZXN1bHQuX2lkLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY2F0Y2ggKGUpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcInN0YXR1c1wiOiBNZXNzYWdlcy5TVEFUVVNfRVJST1IsIFwiZXJyb3JfbWVzc2FnZVwiOiBlLm1lc3NhZ2V9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWxldmVudEluZHVzdHJ5TGlzdChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHtcclxuICB0cnkge1xyXG4gICAgdmFyIHJvbGVzcGFyYW0gPSByZXEucXVlcnkucm9sZXM7XHJcbiAgICB2YXIgaW5kdXN0cnlOYW1lID0gcmVxLnF1ZXJ5LmluZHVzdHJ5TmFtZTtcclxuICAgIGxldCBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UuZ2V0UmVsZXZlbnRJbmR1c3RyeUxpc3Qocm9sZXNwYXJhbSxpbmR1c3RyeU5hbWUsIChlcnJvcjogYW55LCByZXNwb25zZTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIG5leHQoe1xyXG4gICAgICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0VYSVNUSU5HX1VTRVIsXHJcbiAgICAgICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfVkVSSUZZX0FDQ09VTlQsXHJcbiAgICAgICAgICBjb2RlOiA0MDNcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAnc3RhdHVzJzogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgJ2RhdGEnOiByZXNwb25zZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe21lc3NhZ2U6IGUubWVzc2FnZX0pO1xyXG4gIH1cclxuXHJcbiAgLypjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLXJvbGVzcGFybWEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyxKU09OLnBhcnNlKHJvbGVzcGFyYW0pKTtcclxuICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS1yb2xlc3Bhcm1hLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsSlNPTi5wYXJzZShyb2xlc3BhcmFtKVswXSk7XHJcbiAgIF9fZGlybmFtZSA9ICcuLyc7XHJcbiAgIHZhciBmaWxlcGF0aCA9ICdyZWxldmVudC1pbmR1c3RyaWVzLmpzb24nO1xyXG4gICB0cnkge1xyXG4gICByZXMuc2VuZEZpbGUoZmlsZXBhdGgsIHtyb290OiBfX2Rpcm5hbWV9KTtcclxuICAgfVxyXG4gICBjYXRjaCAoZSkge1xyXG4gICByZXMuc3RhdHVzKDQwMykuc2VuZCh7bWVzc2FnZTogZS5tZXNzYWdlfSk7XHJcbiAgIH0qL1xyXG59XHJcbiJdfQ==
