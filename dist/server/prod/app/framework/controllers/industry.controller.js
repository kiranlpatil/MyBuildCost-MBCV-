"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
var CNextMessages = require("../shared/cnext-messages");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieveAll(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: CNextMessages.MSG_NOT_FOUND_ANY_RECORD_OF_INDUSTRY,
                    actual_error: error,
                    stackTrace: new Error(),
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry_1 = req.body;
        var industryService = new IndustryService();
        industryService.create(newIndustry_1, function (error, result) {
            if (error) {
                next(error);
            }
            else {
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": "Data inserted Successfully in Industry",
                        "code": newIndustry_1.code,
                        "name": newIndustry_1.name,
                        "roles": newIndustry_1.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.create = create;
function getReleventIndustryList(req, res, next) {
    try {
        var rolesparam = req.query.roles;
        var industryName = req.query.industryName;
        var industryService = new IndustryService();
        industryService.getReleventIndustryList(rolesparam, industryName, function (error, response) {
            if (error) {
                next(error);
            }
            else {
                res.send({
                    'status': 'success',
                    'data': response,
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.getReleventIndustryList = getReleventIndustryList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvaW5kdXN0cnkuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDZDQUFnRDtBQUloRCw4REFBaUU7QUFVakUsd0RBQTJEO0FBRzNELGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxhQUFhLENBQUMsb0NBQW9DO29CQUMzRCxZQUFZLEVBQUUsS0FBSztvQkFDbkIsVUFBVSxFQUFFLElBQUksS0FBSyxFQUFFO29CQUN2QixJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLE1BQU07aUJBQ2YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtZQUN2QixJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBN0JELDRCQTZCQztBQUNELGdCQUF1QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUMzRSxJQUFJLENBQUM7UUFDSCxJQUFJLGFBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUN6RCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLGVBQWUsQ0FBQyxNQUFNLENBQUMsYUFBVyxFQUFFLFVBQUMsS0FBSyxFQUFFLE1BQU07WUFDaEQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDZCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ25CLFFBQVEsRUFBRSxRQUFRLENBQUMsY0FBYztvQkFDakMsTUFBTSxFQUFFO3dCQUNOLFFBQVEsRUFBRSx3Q0FBd0M7d0JBQ2xELE1BQU0sRUFBRSxhQUFXLENBQUMsSUFBSTt3QkFDeEIsTUFBTSxFQUFFLGFBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsYUFBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtZQUN2QixJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBN0JELHdCQTZCQztBQUVELGlDQUF3QyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM1RixJQUFJLENBQUM7UUFDSCxJQUFJLFVBQVUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNqQyxJQUFJLFlBQVksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUMxQyxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLGVBQWUsQ0FBQyx1QkFBdUIsQ0FBQyxVQUFVLEVBQUUsWUFBWSxFQUFFLFVBQUMsS0FBVSxFQUFFLFFBQWE7WUFDMUYsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDZCxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLFFBQVE7aUJBQ2pCLENBQUMsQ0FBQztZQUNMLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDO1lBQ0gsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2pCLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTztZQUNsQixVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7WUFDdkIsSUFBSSxFQUFFLEdBQUc7U0FDVixDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQztBQXZCRCwwREF1QkMiLCJmaWxlIjoiYXBwL2ZyYW1ld29yay9jb250cm9sbGVycy9pbmR1c3RyeS5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IEF1dGhJbnRlcmNlcHRvciA9IHJlcXVpcmUoXCIuLi9pbnRlcmNlcHRvci9hdXRoLmludGVyY2VwdG9yXCIpO1xuaW1wb3J0IFNlbmRNYWlsU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9zZW5kbWFpbC5zZXJ2aWNlXCIpO1xuaW1wb3J0IFVzZXJNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3VzZXIubW9kZWxcIik7XG5pbXBvcnQgTWVzc2FnZXMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL21lc3NhZ2VzXCIpO1xuaW1wb3J0IFJlc3BvbnNlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvcmVzcG9uc2Uuc2VydmljZVwiKTtcbmltcG9ydCBDYW5kaWRhdGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhbmRpZGF0ZS5tb2RlbFwiKTtcbmltcG9ydCBDYW5kaWRhdGVTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2NhbmRpZGF0ZS5zZXJ2aWNlXCIpO1xuaW1wb3J0IEluZHVzdHJ5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9pbmR1c3RyeS5zZXJ2aWNlXCIpO1xuaW1wb3J0IEluZHVzdHJ5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9pbmR1c3RyeS5tb2RlbFwiKTtcbmltcG9ydCBSb2xlTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9yb2xlLm1vZGVsXCIpO1xuaW1wb3J0IENhcGFiaWxpdHlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhcGFiaWxpdHkubW9kZWxcIik7XG5pbXBvcnQgQ29tcGxleGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY29tcGxleGl0eS5tb2RlbFwiKTtcbmltcG9ydCBTY2VuYXJpb01vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvc2NlbmFyaW8ubW9kZWxcIik7XG5pbXBvcnQgU2NlbmFyaW9TZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3NjZW5hcmlvLnNlcnZpY2VcIik7XG5pbXBvcnQgQ29tcGxleGl0eVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY29tcGxleGl0eS5zZXJ2aWNlXCIpO1xuaW1wb3J0IENhcGFiaWxpdHlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2NhcGFiaWxpdHkuc2VydmljZVwiKTtcbmltcG9ydCBSb2xlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9yb2xlLnNlcnZpY2VcIik7XG5pbXBvcnQgQ05leHRNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvY25leHQtbWVzc2FnZXNcIik7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xuICB0cnkge1xuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGluZHVzdHJ5U2VydmljZS5yZXRyaWV2ZUFsbChwYXJhbXMsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dCh7XG4gICAgICAgICAgcmVhc29uOiAnRXJyb3IgSW4gUmV0cml2aW5nJywvL01lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgICAgICBtZXNzYWdlOiBDTmV4dE1lc3NhZ2VzLk1TR19OT1RfRk9VTkRfQU5ZX1JFQ09SRF9PRl9JTkRVU1RSWSxcbiAgICAgICAgICBhY3R1YWxfZXJyb3I6IGVycm9yLFxuICAgICAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxuICAgICAgICAgIGNvZGU6IDQwMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJkYXRhXCI6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIG5leHQoe1xuICAgICAgcmVhc29uOiBlLm1lc3NhZ2UsXG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcbiAgICAgIGNvZGU6IDUwMFxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkgeyAvL3RvZG8gY29kZSBzaG91bGQgYmUgcmV2aWV3IGJlIFN1ZGhha2FyXG4gIHRyeSB7XG4gICAgbGV0IG5ld0luZHVzdHJ5OiBJbmR1c3RyeU1vZGVsID0gPEluZHVzdHJ5TW9kZWw+cmVxLmJvZHk7XG4gICAgbGV0IGluZHVzdHJ5U2VydmljZSA9IG5ldyBJbmR1c3RyeVNlcnZpY2UoKTtcbiAgICBpbmR1c3RyeVNlcnZpY2UuY3JlYXRlKG5ld0luZHVzdHJ5LCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICBcInN0YXR1c1wiOiBNZXNzYWdlcy5TVEFUVVNfU1VDQ0VTUyxcbiAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJyZWFzb25cIjogXCJEYXRhIGluc2VydGVkIFN1Y2Nlc3NmdWxseSBpbiBJbmR1c3RyeVwiLFxuICAgICAgICAgICAgXCJjb2RlXCI6IG5ld0luZHVzdHJ5LmNvZGUsXG4gICAgICAgICAgICBcIm5hbWVcIjogbmV3SW5kdXN0cnkubmFtZSxcbiAgICAgICAgICAgIFwicm9sZXNcIjogbmV3SW5kdXN0cnkucm9sZXMsXG4gICAgICAgICAgICBcIl9pZFwiOiByZXN1bHQuX2lkLFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBuZXh0KHtcbiAgICAgIHJlYXNvbjogZS5tZXNzYWdlLFxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksXG4gICAgICBjb2RlOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsZXZlbnRJbmR1c3RyeUxpc3QocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgdmFyIHJvbGVzcGFyYW0gPSByZXEucXVlcnkucm9sZXM7XG4gICAgdmFyIGluZHVzdHJ5TmFtZSA9IHJlcS5xdWVyeS5pbmR1c3RyeU5hbWU7XG4gICAgbGV0IGluZHVzdHJ5U2VydmljZSA9IG5ldyBJbmR1c3RyeVNlcnZpY2UoKTtcbiAgICBpbmR1c3RyeVNlcnZpY2UuZ2V0UmVsZXZlbnRJbmR1c3RyeUxpc3Qocm9sZXNwYXJhbSwgaW5kdXN0cnlOYW1lLCAoZXJyb3I6IGFueSwgcmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIG5leHQoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICdzdGF0dXMnOiAnc3VjY2VzcycsXG4gICAgICAgICAgJ2RhdGEnOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBuZXh0KHtcbiAgICAgIHJlYXNvbjogZS5tZXNzYWdlLFxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksXG4gICAgICBjb2RlOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuIl19
