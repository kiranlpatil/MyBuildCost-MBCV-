"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
var CNextMessages = require("../shared/cnext-messages");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieveAll(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: CNextMessages.MSG_NOT_FOUND_ANY_RECORD_OF_INDUSTRY,
                    actual_error: error,
                    stackTrace: new Error(),
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry_1 = req.body;
        var industryService = new IndustryService();
        industryService.create(newIndustry_1, function (error, result) {
            if (error) {
                next(error);
            }
            else {
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": "Data inserted Successfully in Industry",
                        "code": newIndustry_1.code,
                        "name": newIndustry_1.name,
                        "roles": newIndustry_1.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.create = create;
function getReleventIndustryList(req, res, next) {
    try {
        var rolesparam = req.query.roles;
        var industryName = req.query.industryName;
        var industryService = new IndustryService();
        industryService.getReleventIndustryList(rolesparam, industryName, function (error, response) {
            if (error) {
                next(error);
            }
            else {
                res.send({
                    'status': 'success',
                    'data': response,
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.getReleventIndustryList = getReleventIndustryList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvaW5kdXN0cnkuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDZDQUFnRDtBQUloRCw4REFBaUU7QUFVakUsd0RBQTJEO0FBRzNELGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxhQUFhLENBQUMsb0NBQW9DO29CQUMzRCxZQUFZLEVBQUUsS0FBSztvQkFDbkIsVUFBVSxFQUFFLElBQUksS0FBSyxFQUFFO29CQUN2QixJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLE1BQU07aUJBQ2YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtZQUN2QixJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBN0JELDRCQTZCQztBQUNELGdCQUF1QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUMzRSxJQUFJLENBQUM7UUFDSCxJQUFJLGFBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUN6RCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLGVBQWUsQ0FBQyxNQUFNLENBQUMsYUFBVyxFQUFFLFVBQUMsS0FBSyxFQUFFLE1BQU07WUFDaEQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDZCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ25CLFFBQVEsRUFBRSxRQUFRLENBQUMsY0FBYztvQkFDakMsTUFBTSxFQUFFO3dCQUNOLFFBQVEsRUFBRSx3Q0FBd0M7d0JBQ2xELE1BQU0sRUFBRSxhQUFXLENBQUMsSUFBSTt3QkFDeEIsTUFBTSxFQUFFLGFBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsYUFBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtZQUN2QixJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBN0JELHdCQTZCQztBQUVELGlDQUF3QyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM1RixJQUFJLENBQUM7UUFDSCxJQUFJLFVBQVUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNqQyxJQUFJLFlBQVksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUMxQyxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLGVBQWUsQ0FBQyx1QkFBdUIsQ0FBQyxVQUFVLEVBQUUsWUFBWSxFQUFFLFVBQUMsS0FBVSxFQUFFLFFBQWE7WUFDMUYsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDZCxDQUFDO1lBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ04sR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLFFBQVE7aUJBQ2pCLENBQUMsQ0FBQztZQUNMLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDO1lBQ0gsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2pCLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTztZQUNsQixVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7WUFDdkIsSUFBSSxFQUFFLEdBQUc7U0FDVixDQUFDLENBQUM7SUFDTCxDQUFDO0FBQ0gsQ0FBQztBQXZCRCwwREF1QkMiLCJmaWxlIjoiYXBwL2ZyYW1ld29yay9jb250cm9sbGVycy9pbmR1c3RyeS5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgQXV0aEludGVyY2VwdG9yID0gcmVxdWlyZShcIi4uL2ludGVyY2VwdG9yL2F1dGguaW50ZXJjZXB0b3JcIik7XHJcbmltcG9ydCBTZW5kTWFpbFNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvc2VuZG1haWwuc2VydmljZVwiKTtcclxuaW1wb3J0IFVzZXJNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3VzZXIubW9kZWxcIik7XHJcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XHJcbmltcG9ydCBSZXNwb25zZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2hhcmVkL3Jlc3BvbnNlLnNlcnZpY2VcIik7XHJcbmltcG9ydCBDYW5kaWRhdGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhbmRpZGF0ZS5tb2RlbFwiKTtcclxuaW1wb3J0IENhbmRpZGF0ZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FuZGlkYXRlLnNlcnZpY2VcIik7XHJcbmltcG9ydCBJbmR1c3RyeVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvaW5kdXN0cnkuc2VydmljZVwiKTtcclxuaW1wb3J0IEluZHVzdHJ5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9pbmR1c3RyeS5tb2RlbFwiKTtcclxuaW1wb3J0IFJvbGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3JvbGUubW9kZWxcIik7XHJcbmltcG9ydCBDYXBhYmlsaXR5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9jYXBhYmlsaXR5Lm1vZGVsXCIpO1xyXG5pbXBvcnQgQ29tcGxleGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY29tcGxleGl0eS5tb2RlbFwiKTtcclxuaW1wb3J0IFNjZW5hcmlvTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9zY2VuYXJpby5tb2RlbFwiKTtcclxuaW1wb3J0IFNjZW5hcmlvU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9zY2VuYXJpby5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgQ29tcGxleGl0eVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY29tcGxleGl0eS5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgQ2FwYWJpbGl0eVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FwYWJpbGl0eS5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgUm9sZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvcm9sZS5zZXJ2aWNlXCIpO1xyXG5pbXBvcnQgQ05leHRNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvY25leHQtbWVzc2FnZXNcIik7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgaW5kdXN0cnlTZXJ2aWNlID0gbmV3IEluZHVzdHJ5U2VydmljZSgpO1xyXG4gICAgdmFyIHBhcmFtcyA9IHt9O1xyXG4gICAgaW5kdXN0cnlTZXJ2aWNlLnJldHJpZXZlQWxsKHBhcmFtcywgKGVycm9yLCByZXN1bHQpID0+IHtcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgbmV4dCh7XHJcbiAgICAgICAgICByZWFzb246ICdFcnJvciBJbiBSZXRyaXZpbmcnLC8vTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICAgICAgbWVzc2FnZTogQ05leHRNZXNzYWdlcy5NU0dfTk9UX0ZPVU5EX0FOWV9SRUNPUkRfT0ZfSU5EVVNUUlksXHJcbiAgICAgICAgICBhY3R1YWxfZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksXHJcbiAgICAgICAgICBjb2RlOiA0MDFcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICAgIFwiZGF0YVwiOiByZXN1bHRcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogZS5tZXNzYWdlLFxyXG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA1MDBcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkgeyAvL3RvZG8gY29kZSBzaG91bGQgYmUgcmV2aWV3IGJlIFN1ZGhha2FyXHJcbiAgdHJ5IHtcclxuICAgIGxldCBuZXdJbmR1c3RyeTogSW5kdXN0cnlNb2RlbCA9IDxJbmR1c3RyeU1vZGVsPnJlcS5ib2R5O1xyXG4gICAgbGV0IGluZHVzdHJ5U2VydmljZSA9IG5ldyBJbmR1c3RyeVNlcnZpY2UoKTtcclxuICAgIGluZHVzdHJ5U2VydmljZS5jcmVhdGUobmV3SW5kdXN0cnksIChlcnJvciwgcmVzdWx0KSA9PiB7XHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIG5leHQoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuICAgICAgICAgIFwic3RhdHVzXCI6IE1lc3NhZ2VzLlNUQVRVU19TVUNDRVNTLFxyXG4gICAgICAgICAgXCJkYXRhXCI6IHtcclxuICAgICAgICAgICAgXCJyZWFzb25cIjogXCJEYXRhIGluc2VydGVkIFN1Y2Nlc3NmdWxseSBpbiBJbmR1c3RyeVwiLFxyXG4gICAgICAgICAgICBcImNvZGVcIjogbmV3SW5kdXN0cnkuY29kZSxcclxuICAgICAgICAgICAgXCJuYW1lXCI6IG5ld0luZHVzdHJ5Lm5hbWUsXHJcbiAgICAgICAgICAgIFwicm9sZXNcIjogbmV3SW5kdXN0cnkucm9sZXMsXHJcbiAgICAgICAgICAgIFwiX2lkXCI6IHJlc3VsdC5faWQsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IGUubWVzc2FnZSxcclxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNTAwXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWxldmVudEluZHVzdHJ5TGlzdChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHtcclxuICB0cnkge1xyXG4gICAgdmFyIHJvbGVzcGFyYW0gPSByZXEucXVlcnkucm9sZXM7XHJcbiAgICB2YXIgaW5kdXN0cnlOYW1lID0gcmVxLnF1ZXJ5LmluZHVzdHJ5TmFtZTtcclxuICAgIGxldCBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UuZ2V0UmVsZXZlbnRJbmR1c3RyeUxpc3Qocm9sZXNwYXJhbSwgaW5kdXN0cnlOYW1lLCAoZXJyb3I6IGFueSwgcmVzcG9uc2U6IGFueSkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KGVycm9yKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuc2VuZCh7XHJcbiAgICAgICAgICAnc3RhdHVzJzogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgJ2RhdGEnOiByZXNwb25zZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogZS5tZXNzYWdlLFxyXG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA1MDBcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXX0=
