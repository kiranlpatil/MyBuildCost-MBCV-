"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
var CNextMessages = require("../shared/cnext-messages");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieveAll(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: CNextMessages.MSG_NOT_FOUND_ANY_RECORD_OF_INDUSTRY,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry_1 = req.body;
        var industryService = new IndustryService();
        industryService.create(newIndustry_1, function (error, result) {
            if (error) {
                console.log("crt role error", error);
            }
            else {
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": "Data inserted Successfully in Industry",
                        "code": newIndustry_1.code,
                        "name": newIndustry_1.name,
                        "roles": newIndustry_1.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ "status": Messages.STATUS_ERROR, "error_message": e.message });
    }
}
exports.create = create;
function getReleventIndustryList(req, res, next) {
    try {
        var rolesparam = req.query.roles;
        var industryName = req.query.industryName;
        var industryService = new IndustryService();
        industryService.getReleventIndustryList(rolesparam, industryName, function (error, response) {
            if (error) {
                next({
                    reason: Messages.MSG_ERROR_RSN_EXISTING_USER,
                    message: Messages.MSG_ERROR_VERIFY_ACCOUNT,
                    code: 403
                });
            }
            else {
                res.send({
                    'status': 'success',
                    'data': response,
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.getReleventIndustryList = getReleventIndustryList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvaW5kdXN0cnkuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLDZDQUFnRDtBQUloRCw4REFBaUU7QUFVakUsd0RBQTJEO0FBRzNELGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxhQUFhLENBQUMsb0NBQW9DO29CQUMzRCxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFLE1BQU07aUJBQ2YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUM3QyxDQUFDO0FBQ0gsQ0FBQztBQXZCRCw0QkF1QkM7QUFDRCxnQkFBdUIsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDM0UsSUFBSSxDQUFDO1FBQ0gsSUFBSSxhQUFXLEdBQWlDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDekQsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsTUFBTSxDQUFDLGFBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN2QyxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBQ25CLFFBQVEsRUFBRSxRQUFRLENBQUMsY0FBYztvQkFDakMsTUFBTSxFQUFFO3dCQUNOLFFBQVEsRUFBRSx3Q0FBd0M7d0JBQ2xELE1BQU0sRUFBRSxhQUFXLENBQUMsSUFBSTt3QkFDeEIsTUFBTSxFQUFFLGFBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsYUFBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsWUFBWSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0FBQ0gsQ0FBQztBQXpCRCx3QkF5QkM7QUFFRCxpQ0FBd0MsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDNUYsSUFBSSxDQUFDO1FBQ0gsSUFBSSxVQUFVLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDakMsSUFBSSxZQUFZLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDMUMsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsdUJBQXVCLENBQUMsVUFBVSxFQUFDLFlBQVksRUFBRSxVQUFDLEtBQVUsRUFBRSxRQUFhO1lBQ3pGLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxRQUFRLENBQUMsMkJBQTJCO29CQUM1QyxPQUFPLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtvQkFDMUMsSUFBSSxFQUFFLEdBQUc7aUJBQ1YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ1AsUUFBUSxFQUFFLFNBQVM7b0JBQ25CLE1BQU0sRUFBRSxRQUFRO2lCQUNqQixDQUFDLENBQUM7WUFDTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7QUFZSCxDQUFDO0FBakNELDBEQWlDQyIsImZpbGUiOiJhcHAvZnJhbWV3b3JrL2NvbnRyb2xsZXJzL2luZHVzdHJ5LmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgQXV0aEludGVyY2VwdG9yID0gcmVxdWlyZShcIi4uL2ludGVyY2VwdG9yL2F1dGguaW50ZXJjZXB0b3JcIik7XG5pbXBvcnQgU2VuZE1haWxTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3NlbmRtYWlsLnNlcnZpY2VcIik7XG5pbXBvcnQgVXNlck1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvdXNlci5tb2RlbFwiKTtcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XG5pbXBvcnQgUmVzcG9uc2VTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NoYXJlZC9yZXNwb25zZS5zZXJ2aWNlXCIpO1xuaW1wb3J0IENhbmRpZGF0ZU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY2FuZGlkYXRlLm1vZGVsXCIpO1xuaW1wb3J0IENhbmRpZGF0ZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FuZGlkYXRlLnNlcnZpY2VcIik7XG5pbXBvcnQgSW5kdXN0cnlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2luZHVzdHJ5LnNlcnZpY2VcIik7XG5pbXBvcnQgSW5kdXN0cnlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2luZHVzdHJ5Lm1vZGVsXCIpO1xuaW1wb3J0IFJvbGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3JvbGUubW9kZWxcIik7XG5pbXBvcnQgQ2FwYWJpbGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY2FwYWJpbGl0eS5tb2RlbFwiKTtcbmltcG9ydCBDb21wbGV4aXR5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9jb21wbGV4aXR5Lm1vZGVsXCIpO1xuaW1wb3J0IFNjZW5hcmlvTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9zY2VuYXJpby5tb2RlbFwiKTtcbmltcG9ydCBTY2VuYXJpb1NlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvc2NlbmFyaW8uc2VydmljZVwiKTtcbmltcG9ydCBDb21wbGV4aXR5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9jb21wbGV4aXR5LnNlcnZpY2VcIik7XG5pbXBvcnQgQ2FwYWJpbGl0eVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FwYWJpbGl0eS5zZXJ2aWNlXCIpO1xuaW1wb3J0IFJvbGVTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3JvbGUuc2VydmljZVwiKTtcbmltcG9ydCBDTmV4dE1lc3NhZ2VzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9jbmV4dC1tZXNzYWdlc1wiKTtcblxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZHVzdHJ5U2VydmljZSA9IG5ldyBJbmR1c3RyeVNlcnZpY2UoKTtcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaW5kdXN0cnlTZXJ2aWNlLnJldHJpZXZlQWxsKHBhcmFtcywgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBuZXh0KHtcbiAgICAgICAgICByZWFzb246ICdFcnJvciBJbiBSZXRyaXZpbmcnLC8vTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxuICAgICAgICAgIG1lc3NhZ2U6IENOZXh0TWVzc2FnZXMuTVNHX05PVF9GT1VORF9BTllfUkVDT1JEX09GX0lORFVTVFJZLFxuICAgICAgICAgIGNvZGU6IDQwMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJkYXRhXCI6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHttZXNzYWdlOiBlLm1lc3NhZ2V9KTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHsgLy90b2RvIGNvZGUgc2hvdWxkIGJlIHJldmlldyBiZSBTdWRoYWthclxuICB0cnkge1xuICAgIGxldCBuZXdJbmR1c3RyeTogSW5kdXN0cnlNb2RlbCA9IDxJbmR1c3RyeU1vZGVsPnJlcS5ib2R5O1xuICAgIGxldCBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XG4gICAgaW5kdXN0cnlTZXJ2aWNlLmNyZWF0ZShuZXdJbmR1c3RyeSwgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNydCByb2xlIGVycm9yXCIsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgICAgXCJzdGF0dXNcIjogTWVzc2FnZXMuU1RBVFVTX1NVQ0NFU1MsXG4gICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgIFwicmVhc29uXCI6IFwiRGF0YSBpbnNlcnRlZCBTdWNjZXNzZnVsbHkgaW4gSW5kdXN0cnlcIixcbiAgICAgICAgICAgIFwiY29kZVwiOiBuZXdJbmR1c3RyeS5jb2RlLFxuICAgICAgICAgICAgXCJuYW1lXCI6IG5ld0luZHVzdHJ5Lm5hbWUsXG4gICAgICAgICAgICBcInJvbGVzXCI6IG5ld0luZHVzdHJ5LnJvbGVzLFxuICAgICAgICAgICAgXCJfaWRcIjogcmVzdWx0Ll9pZCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1wic3RhdHVzXCI6IE1lc3NhZ2VzLlNUQVRVU19FUlJPUiwgXCJlcnJvcl9tZXNzYWdlXCI6IGUubWVzc2FnZX0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWxldmVudEluZHVzdHJ5TGlzdChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcm9sZXNwYXJhbSA9IHJlcS5xdWVyeS5yb2xlcztcbiAgICB2YXIgaW5kdXN0cnlOYW1lID0gcmVxLnF1ZXJ5LmluZHVzdHJ5TmFtZTtcbiAgICBsZXQgaW5kdXN0cnlTZXJ2aWNlID0gbmV3IEluZHVzdHJ5U2VydmljZSgpO1xuICAgIGluZHVzdHJ5U2VydmljZS5nZXRSZWxldmVudEluZHVzdHJ5TGlzdChyb2xlc3BhcmFtLGluZHVzdHJ5TmFtZSwgKGVycm9yOiBhbnksIHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBuZXh0KHtcbiAgICAgICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fRVhJU1RJTkdfVVNFUixcbiAgICAgICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfVkVSSUZZX0FDQ09VTlQsXG4gICAgICAgICAgY29kZTogNDAzXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICdzdGF0dXMnOiAnc3VjY2VzcycsXG4gICAgICAgICAgJ2RhdGEnOiByZXNwb25zZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7bWVzc2FnZTogZS5tZXNzYWdlfSk7XG4gIH1cblxuICAvKmNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tcm9sZXNwYXJtYS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nLEpTT04ucGFyc2Uocm9sZXNwYXJhbSkpO1xuICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS1yb2xlc3Bhcm1hLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScsSlNPTi5wYXJzZShyb2xlc3BhcmFtKVswXSk7XG4gICBfX2Rpcm5hbWUgPSAnLi8nO1xuICAgdmFyIGZpbGVwYXRoID0gJ3JlbGV2ZW50LWluZHVzdHJpZXMuanNvbic7XG4gICB0cnkge1xuICAgcmVzLnNlbmRGaWxlKGZpbGVwYXRoLCB7cm9vdDogX19kaXJuYW1lfSk7XG4gICB9XG4gICBjYXRjaCAoZSkge1xuICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe21lc3NhZ2U6IGUubWVzc2FnZX0pO1xuICAgfSovXG59XG4iXX0=
