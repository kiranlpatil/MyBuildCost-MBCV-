"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AuthInterceptor = require("../interceptor/auth.interceptor");
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
function retrieve(req, res, next) {
    try {
        console.log("In retrive");
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieve(params, function (error, result) {
            console.log("In retrive of industry");
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: Messages.MSG_ERROR_WRONG_TOKEN,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": {
                        "Success": "Amit"
                    }
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry = req.body;
        var newRole = req.body.roles;
        var newCapability = req.body.roles[0].capabilities;
        var newComplexity = req.body.roles[0].capabilities[0].complexities;
        var newScenario = req.body.roles[0].capabilities[0].complexities[0].scenarios;
        var industryService = new IndustryService();
        industryService.create(newIndustry, function (error, result) {
            if (error) {
                console.log("crt industry error", error);
            }
            else {
                var auth = new AuthInterceptor();
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": Messages.MSG_SUCCESS_REGISTRATION,
                        "code_name": newIndustry.code,
                        "name": newIndustry.name,
                        "roles": newIndustry.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ "status": Messages.STATUS_ERROR, "error_message": e.message });
    }
}
exports.create = create;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvc2NlbmFyaW8uY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlFQUFvRTtBQUdwRSw2Q0FBZ0Q7QUFJaEQsOERBQWlFO0FBUWpFLGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzFCLElBQUksZUFBZSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUM7UUFDNUMsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLGVBQWUsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBSyxFQUFFLE1BQU07WUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1lBQ3RDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxRQUFRLENBQUMscUJBQXFCO29CQUN2QyxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFFTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBRUosR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFO3dCQUNOLFNBQVMsRUFBRSxNQUFNO3FCQUNsQjtpQkFFRixDQUFDLENBQUM7WUFFTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFTCxDQUFDO0lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNULEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7QUFDSCxDQUFDO0FBaENELDRCQWdDQztBQUNELGdCQUF1QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUMzRSxJQUFJLENBQUM7UUFDSCxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUN6RCxJQUFJLE9BQU8sR0FBeUIsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbkQsSUFBSSxhQUFhLEdBQXFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRixJQUFJLGFBQWEsR0FBcUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRyxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFFNUcsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUMzQyxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osSUFBSSxJQUFJLEdBQW9CLElBQUksZUFBZSxFQUFFLENBQUM7Z0JBQ2xELEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO29CQUNuQixRQUFRLEVBQUUsUUFBUSxDQUFDLGNBQWM7b0JBQ2pDLE1BQU0sRUFBRTt3QkFDTixRQUFRLEVBQUUsUUFBUSxDQUFDLHdCQUF3Qjt3QkFDM0MsV0FBVyxFQUFFLFdBQVcsQ0FBQyxJQUFJO3dCQUM3QixNQUFNLEVBQUUsV0FBVyxDQUFDLElBQUk7d0JBQ3hCLE9BQU8sRUFBRSxXQUFXLENBQUMsS0FBSzt3QkFDMUIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHO3FCQUNsQjtpQkFDRixDQUFDLENBQUM7WUFDTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNULEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUMsQ0FBQyxDQUFDO0lBQ3RGLENBQUM7QUFDSCxDQUFDO0FBL0JELHdCQStCQyIsImZpbGUiOiJhcHAvZnJhbWV3b3JrL2NvbnRyb2xsZXJzL3NjZW5hcmlvLmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgQXV0aEludGVyY2VwdG9yID0gcmVxdWlyZShcIi4uL2ludGVyY2VwdG9yL2F1dGguaW50ZXJjZXB0b3JcIik7XG5pbXBvcnQgU2VuZE1haWxTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3NlbmRtYWlsLnNlcnZpY2VcIik7XG5pbXBvcnQgVXNlck1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvdXNlci5tb2RlbFwiKTtcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XG5pbXBvcnQgUmVzcG9uc2VTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NoYXJlZC9yZXNwb25zZS5zZXJ2aWNlXCIpO1xuaW1wb3J0IENhbmRpZGF0ZU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY2FuZGlkYXRlLm1vZGVsXCIpO1xuaW1wb3J0IENhbmRpZGF0ZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FuZGlkYXRlLnNlcnZpY2VcIik7XG5pbXBvcnQgSW5kdXN0cnlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2luZHVzdHJ5LnNlcnZpY2VcIik7XG5pbXBvcnQgSW5kdXN0cnlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2luZHVzdHJ5Lm1vZGVsXCIpO1xuaW1wb3J0IFJvbGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3JvbGUubW9kZWxcIik7XG5pbXBvcnQgQ2FwYWJpbGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY2FwYWJpbGl0eS5tb2RlbFwiKTtcbmltcG9ydCBDb21wbGV4aXR5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9jb21wbGV4aXR5Lm1vZGVsXCIpO1xuaW1wb3J0IFNjZW5hcmlvTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9zY2VuYXJpby5tb2RlbFwiKTtcblxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJJbiByZXRyaXZlXCIpO1xuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGluZHVzdHJ5U2VydmljZS5yZXRyaWV2ZShwYXJhbXMsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIkluIHJldHJpdmUgb2YgaW5kdXN0cnlcIik7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dCh7XG4gICAgICAgICAgcmVhc29uOiAnRXJyb3IgSW4gUmV0cml2aW5nJywvL01lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfV1JPTkdfVE9LRU4sXG4gICAgICAgICAgY29kZTogNDAxXG4gICAgICAgIH0pO1xuXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gIHZhciB0b2tlbiA9IGF1dGguaXNzdWVUb2tlbldpdGhVaWQodXNlcik7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJTdWNjZXNzXCI6IFwiQW1pdFwiLy91c2VyLmZpcnN0X25hbWUsXG4gICAgICAgICAgfS8vLFxuICAgICAgICAgIC8vYWNjZXNzX3Rva2VuOiB0b2tlblxuICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7bWVzc2FnZTogZS5tZXNzYWdlfSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgdmFyIG5ld0luZHVzdHJ5OiBJbmR1c3RyeU1vZGVsID0gPEluZHVzdHJ5TW9kZWw+cmVxLmJvZHk7XG4gICAgdmFyIG5ld1JvbGU6IFJvbGVNb2RlbCA9IDxSb2xlTW9kZWw+cmVxLmJvZHkucm9sZXM7XG4gICAgdmFyIG5ld0NhcGFiaWxpdHk6IENhcGFiaWxpdHlNb2RlbCA9IDxDYXBhYmlsaXR5TW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzO1xuICAgIHZhciBuZXdDb21wbGV4aXR5OiBDb21wbGV4aXR5TW9kZWwgPSA8Q29tcGxleGl0eU1vZGVsPnJlcS5ib2R5LnJvbGVzWzBdLmNhcGFiaWxpdGllc1swXS5jb21wbGV4aXRpZXM7XG4gICAgdmFyIG5ld1NjZW5hcmlvOiBTY2VuYXJpb01vZGVsID0gPFNjZW5hcmlvTW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzWzBdLmNvbXBsZXhpdGllc1swXS5zY2VuYXJpb3M7XG5cbiAgICB2YXIgaW5kdXN0cnlTZXJ2aWNlID0gbmV3IEluZHVzdHJ5U2VydmljZSgpO1xuICAgIGluZHVzdHJ5U2VydmljZS5jcmVhdGUobmV3SW5kdXN0cnksIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcnQgaW5kdXN0cnkgZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBhdXRoOiBBdXRoSW50ZXJjZXB0b3IgPSBuZXcgQXV0aEludGVyY2VwdG9yKCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgICBcInN0YXR1c1wiOiBNZXNzYWdlcy5TVEFUVVNfU1VDQ0VTUyxcbiAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJyZWFzb25cIjogTWVzc2FnZXMuTVNHX1NVQ0NFU1NfUkVHSVNUUkFUSU9OLFxuICAgICAgICAgICAgXCJjb2RlX25hbWVcIjogbmV3SW5kdXN0cnkuY29kZSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBuZXdJbmR1c3RyeS5uYW1lLFxuICAgICAgICAgICAgXCJyb2xlc1wiOiBuZXdJbmR1c3RyeS5yb2xlcyxcbiAgICAgICAgICAgIFwiX2lkXCI6IHJlc3VsdC5faWQsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcInN0YXR1c1wiOiBNZXNzYWdlcy5TVEFUVVNfRVJST1IsIFwiZXJyb3JfbWVzc2FnZVwiOiBlLm1lc3NhZ2V9KTtcbiAgfVxufVxuIl19
