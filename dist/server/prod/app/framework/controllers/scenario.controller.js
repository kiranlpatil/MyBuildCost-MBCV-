"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AuthInterceptor = require("../interceptor/auth.interceptor");
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieve(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: Messages.MSG_ERROR_WRONG_TOKEN,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": {
                        "Success": "Amit"
                    }
                });
            }
        });
    }
    catch (e) {
        next({ reason: e.message, message: e.message, stackTrace: new Error(), code: 500 });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry = req.body;
        var newRole = req.body.roles;
        var newCapability = req.body.roles[0].capabilities;
        var newComplexity = req.body.roles[0].capabilities[0].complexities;
        var newScenario = req.body.roles[0].capabilities[0].complexities[0].scenarios;
        var industryService = new IndustryService();
        industryService.create(newIndustry, function (error, result) {
            if (error) {
                next(error);
            }
            else {
                var auth = new AuthInterceptor();
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": Messages.MSG_SUCCESS_REGISTRATION,
                        "code_name": newIndustry.code,
                        "name": newIndustry.name,
                        "roles": newIndustry.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        next({ reason: e.message, message: e.message, stackTrace: new Error(), code: 500 });
    }
}
exports.create = create;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvc2NlbmFyaW8uY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlFQUFvRTtBQUdwRSw2Q0FBZ0Q7QUFJaEQsOERBQWlFO0FBUWpFLGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQzdDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxRQUFRLENBQUMscUJBQXFCO29CQUN2QyxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFFTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBRUosR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFO3dCQUNOLFNBQVMsRUFBRSxNQUFNO3FCQUNsQjtpQkFFRixDQUFDLENBQUM7WUFFTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFTCxDQUFDO0lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNULElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO0lBQ3BGLENBQUM7QUFDSCxDQUFDO0FBOUJELDRCQThCQztBQUNELGdCQUF1QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUMzRSxJQUFJLENBQUM7UUFDSCxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUN6RCxJQUFJLE9BQU8sR0FBeUIsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbkQsSUFBSSxhQUFhLEdBQXFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRixJQUFJLGFBQWEsR0FBcUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRyxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFFNUcsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2QsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLElBQUksSUFBSSxHQUFvQixJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNsRCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDbkIsUUFBUSxFQUFFLFFBQVEsQ0FBQyxjQUFjO29CQUNqQyxNQUFNLEVBQUU7d0JBQ04sUUFBUSxFQUFFLFFBQVEsQ0FBQyx3QkFBd0I7d0JBQzNDLFdBQVcsRUFBRSxXQUFXLENBQUMsSUFBSTt3QkFDN0IsTUFBTSxFQUFFLFdBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsV0FBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztJQUNwRixDQUFDO0FBQ0gsQ0FBQztBQS9CRCx3QkErQkMiLCJmaWxlIjoiYXBwL2ZyYW1ld29yay9jb250cm9sbGVycy9zY2VuYXJpby5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IEF1dGhJbnRlcmNlcHRvciA9IHJlcXVpcmUoXCIuLi9pbnRlcmNlcHRvci9hdXRoLmludGVyY2VwdG9yXCIpO1xuaW1wb3J0IFNlbmRNYWlsU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9zZW5kbWFpbC5zZXJ2aWNlXCIpO1xuaW1wb3J0IFVzZXJNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3VzZXIubW9kZWxcIik7XG5pbXBvcnQgTWVzc2FnZXMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL21lc3NhZ2VzXCIpO1xuaW1wb3J0IFJlc3BvbnNlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvcmVzcG9uc2Uuc2VydmljZVwiKTtcbmltcG9ydCBDYW5kaWRhdGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhbmRpZGF0ZS5tb2RlbFwiKTtcbmltcG9ydCBDYW5kaWRhdGVTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2NhbmRpZGF0ZS5zZXJ2aWNlXCIpO1xuaW1wb3J0IEluZHVzdHJ5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9pbmR1c3RyeS5zZXJ2aWNlXCIpO1xuaW1wb3J0IEluZHVzdHJ5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9pbmR1c3RyeS5tb2RlbFwiKTtcbmltcG9ydCBSb2xlTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9yb2xlLm1vZGVsXCIpO1xuaW1wb3J0IENhcGFiaWxpdHlNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhcGFiaWxpdHkubW9kZWxcIik7XG5pbXBvcnQgQ29tcGxleGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY29tcGxleGl0eS5tb2RlbFwiKTtcbmltcG9ydCBTY2VuYXJpb01vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvc2NlbmFyaW8ubW9kZWxcIik7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xuICB0cnkge1xuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGluZHVzdHJ5U2VydmljZS5yZXRyaWV2ZShwYXJhbXMsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dCh7XG4gICAgICAgICAgcmVhc29uOiAnRXJyb3IgSW4gUmV0cml2aW5nJywvL01lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfV1JPTkdfVE9LRU4sXG4gICAgICAgICAgY29kZTogNDAxXG4gICAgICAgIH0pO1xuXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gIHZhciB0b2tlbiA9IGF1dGguaXNzdWVUb2tlbldpdGhVaWQodXNlcik7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgXCJTdWNjZXNzXCI6IFwiQW1pdFwiLy91c2VyLmZpcnN0X25hbWUsXG4gICAgICAgICAgfS8vLFxuICAgICAgICAgIC8vYWNjZXNzX3Rva2VuOiB0b2tlblxuICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICBuZXh0KHtyZWFzb246IGUubWVzc2FnZSwgbWVzc2FnZTogZS5tZXNzYWdlLCBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSwgY29kZTogNTAwfSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgdmFyIG5ld0luZHVzdHJ5OiBJbmR1c3RyeU1vZGVsID0gPEluZHVzdHJ5TW9kZWw+cmVxLmJvZHk7XG4gICAgdmFyIG5ld1JvbGU6IFJvbGVNb2RlbCA9IDxSb2xlTW9kZWw+cmVxLmJvZHkucm9sZXM7XG4gICAgdmFyIG5ld0NhcGFiaWxpdHk6IENhcGFiaWxpdHlNb2RlbCA9IDxDYXBhYmlsaXR5TW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzO1xuICAgIHZhciBuZXdDb21wbGV4aXR5OiBDb21wbGV4aXR5TW9kZWwgPSA8Q29tcGxleGl0eU1vZGVsPnJlcS5ib2R5LnJvbGVzWzBdLmNhcGFiaWxpdGllc1swXS5jb21wbGV4aXRpZXM7XG4gICAgdmFyIG5ld1NjZW5hcmlvOiBTY2VuYXJpb01vZGVsID0gPFNjZW5hcmlvTW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzWzBdLmNvbXBsZXhpdGllc1swXS5zY2VuYXJpb3M7XG5cbiAgICB2YXIgaW5kdXN0cnlTZXJ2aWNlID0gbmV3IEluZHVzdHJ5U2VydmljZSgpO1xuICAgIGluZHVzdHJ5U2VydmljZS5jcmVhdGUobmV3SW5kdXN0cnksIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dChlcnJvcik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGF1dGg6IEF1dGhJbnRlcmNlcHRvciA9IG5ldyBBdXRoSW50ZXJjZXB0b3IoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICAgIFwic3RhdHVzXCI6IE1lc3NhZ2VzLlNUQVRVU19TVUNDRVNTLFxuICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICBcInJlYXNvblwiOiBNZXNzYWdlcy5NU0dfU1VDQ0VTU19SRUdJU1RSQVRJT04sXG4gICAgICAgICAgICBcImNvZGVfbmFtZVwiOiBuZXdJbmR1c3RyeS5jb2RlLFxuICAgICAgICAgICAgXCJuYW1lXCI6IG5ld0luZHVzdHJ5Lm5hbWUsXG4gICAgICAgICAgICBcInJvbGVzXCI6IG5ld0luZHVzdHJ5LnJvbGVzLFxuICAgICAgICAgICAgXCJfaWRcIjogcmVzdWx0Ll9pZCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgbmV4dCh7cmVhc29uOiBlLm1lc3NhZ2UsIG1lc3NhZ2U6IGUubWVzc2FnZSwgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksIGNvZGU6IDUwMH0pO1xuICB9XG59XG4iXX0=
