"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AuthInterceptor = require("../interceptor/auth.interceptor");
var Messages = require("../shared/messages");
var IndustryService = require("../services/industry.service");
function retrieve(req, res, next) {
    try {
        var industryService = new IndustryService();
        var params = {};
        industryService.retrieve(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: Messages.MSG_ERROR_WRONG_TOKEN,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": {
                        "Success": "Amit"
                    }
                });
            }
        });
    }
    catch (e) {
        next({ reason: e.message, message: e.message, stackTrace: new Error(), code: 500 });
    }
}
exports.retrieve = retrieve;
function create(req, res, next) {
    try {
        var newIndustry = req.body;
        var newRole = req.body.roles;
        var newCapability = req.body.roles[0].capabilities;
        var newComplexity = req.body.roles[0].capabilities[0].complexities;
        var newScenario = req.body.roles[0].capabilities[0].complexities[0].scenarios;
        var industryService = new IndustryService();
        industryService.create(newIndustry, function (error, result) {
            if (error) {
                next(error);
            }
            else {
                var auth = new AuthInterceptor();
                res.status(200).send({
                    "status": Messages.STATUS_SUCCESS,
                    "data": {
                        "reason": Messages.MSG_SUCCESS_REGISTRATION,
                        "code_name": newIndustry.code,
                        "name": newIndustry.name,
                        "roles": newIndustry.roles,
                        "_id": result._id,
                    }
                });
            }
        });
    }
    catch (e) {
        next({ reason: e.message, message: e.message, stackTrace: new Error(), code: 500 });
    }
}
exports.create = create;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvc2NlbmFyaW8uY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlFQUFvRTtBQUdwRSw2Q0FBZ0Q7QUFJaEQsOERBQWlFO0FBUWpFLGtCQUF5QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxJQUFJLENBQUM7UUFDSCxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixlQUFlLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQzdDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxvQkFBb0I7b0JBQzVCLE9BQU8sRUFBRSxRQUFRLENBQUMscUJBQXFCO29CQUN2QyxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFFTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBRUosR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFO3dCQUNOLFNBQVMsRUFBRSxNQUFNO3FCQUNsQjtpQkFFRixDQUFDLENBQUM7WUFFTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFTCxDQUFDO0lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNULElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO0lBQ3BGLENBQUM7QUFDSCxDQUFDO0FBOUJELDRCQThCQztBQUNELGdCQUF1QixHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUMzRSxJQUFJLENBQUM7UUFDSCxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUN6RCxJQUFJLE9BQU8sR0FBeUIsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbkQsSUFBSSxhQUFhLEdBQXFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRixJQUFJLGFBQWEsR0FBcUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUNyRyxJQUFJLFdBQVcsR0FBaUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFFNUcsSUFBSSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztRQUM1QyxlQUFlLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2QsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLElBQUksSUFBSSxHQUFvQixJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNsRCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDbkIsUUFBUSxFQUFFLFFBQVEsQ0FBQyxjQUFjO29CQUNqQyxNQUFNLEVBQUU7d0JBQ04sUUFBUSxFQUFFLFFBQVEsQ0FBQyx3QkFBd0I7d0JBQzNDLFdBQVcsRUFBRSxXQUFXLENBQUMsSUFBSTt3QkFDN0IsTUFBTSxFQUFFLFdBQVcsQ0FBQyxJQUFJO3dCQUN4QixPQUFPLEVBQUUsV0FBVyxDQUFDLEtBQUs7d0JBQzFCLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRztxQkFDbEI7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFDLENBQUMsQ0FBQztJQUNwRixDQUFDO0FBQ0gsQ0FBQztBQS9CRCx3QkErQkMiLCJmaWxlIjoiYXBwL2ZyYW1ld29yay9jb250cm9sbGVycy9zY2VuYXJpby5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgQXV0aEludGVyY2VwdG9yID0gcmVxdWlyZShcIi4uL2ludGVyY2VwdG9yL2F1dGguaW50ZXJjZXB0b3JcIik7XHJcbmltcG9ydCBTZW5kTWFpbFNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvc2VuZG1haWwuc2VydmljZVwiKTtcclxuaW1wb3J0IFVzZXJNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3VzZXIubW9kZWxcIik7XHJcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XHJcbmltcG9ydCBSZXNwb25zZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2hhcmVkL3Jlc3BvbnNlLnNlcnZpY2VcIik7XHJcbmltcG9ydCBDYW5kaWRhdGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL2NhbmRpZGF0ZS5tb2RlbFwiKTtcclxuaW1wb3J0IENhbmRpZGF0ZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvY2FuZGlkYXRlLnNlcnZpY2VcIik7XHJcbmltcG9ydCBJbmR1c3RyeVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvaW5kdXN0cnkuc2VydmljZVwiKTtcclxuaW1wb3J0IEluZHVzdHJ5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9pbmR1c3RyeS5tb2RlbFwiKTtcclxuaW1wb3J0IFJvbGVNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3JvbGUubW9kZWxcIik7XHJcbmltcG9ydCBDYXBhYmlsaXR5TW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9jYXBhYmlsaXR5Lm1vZGVsXCIpO1xyXG5pbXBvcnQgQ29tcGxleGl0eU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvY29tcGxleGl0eS5tb2RlbFwiKTtcclxuaW1wb3J0IFNjZW5hcmlvTW9kZWwgPSByZXF1aXJlKFwiLi4vZGF0YWFjY2Vzcy9tb2RlbC9zY2VuYXJpby5tb2RlbFwiKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgdHJ5IHtcclxuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICB2YXIgcGFyYW1zID0ge307XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UucmV0cmlldmUocGFyYW1zLCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KHtcclxuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIEluIFJldHJpdmluZycsLy9NZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXHJcbiAgICAgICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfV1JPTkdfVE9LRU4sXHJcbiAgICAgICAgICBjb2RlOiA0MDFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgLy8gIHZhciB0b2tlbiA9IGF1dGguaXNzdWVUb2tlbldpdGhVaWQodXNlcik7XHJcbiAgICAgICAgcmVzLnNlbmQoe1xyXG4gICAgICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICBcImRhdGFcIjoge1xyXG4gICAgICAgICAgICBcIlN1Y2Nlc3NcIjogXCJBbWl0XCIvL3VzZXIuZmlyc3RfbmFtZSxcclxuICAgICAgICAgIH0vLyxcclxuICAgICAgICAgIC8vYWNjZXNzX3Rva2VuOiB0b2tlblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBjYXRjaCAoZSkge1xyXG4gICAgbmV4dCh7cmVhc29uOiBlLm1lc3NhZ2UsIG1lc3NhZ2U6IGUubWVzc2FnZSwgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksIGNvZGU6IDUwMH0pO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgbmV3SW5kdXN0cnk6IEluZHVzdHJ5TW9kZWwgPSA8SW5kdXN0cnlNb2RlbD5yZXEuYm9keTtcclxuICAgIHZhciBuZXdSb2xlOiBSb2xlTW9kZWwgPSA8Um9sZU1vZGVsPnJlcS5ib2R5LnJvbGVzO1xyXG4gICAgdmFyIG5ld0NhcGFiaWxpdHk6IENhcGFiaWxpdHlNb2RlbCA9IDxDYXBhYmlsaXR5TW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzO1xyXG4gICAgdmFyIG5ld0NvbXBsZXhpdHk6IENvbXBsZXhpdHlNb2RlbCA9IDxDb21wbGV4aXR5TW9kZWw+cmVxLmJvZHkucm9sZXNbMF0uY2FwYWJpbGl0aWVzWzBdLmNvbXBsZXhpdGllcztcclxuICAgIHZhciBuZXdTY2VuYXJpbzogU2NlbmFyaW9Nb2RlbCA9IDxTY2VuYXJpb01vZGVsPnJlcS5ib2R5LnJvbGVzWzBdLmNhcGFiaWxpdGllc1swXS5jb21wbGV4aXRpZXNbMF0uc2NlbmFyaW9zO1xyXG5cclxuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XHJcbiAgICBpbmR1c3RyeVNlcnZpY2UuY3JlYXRlKG5ld0luZHVzdHJ5LCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICB2YXIgYXV0aDogQXV0aEludGVyY2VwdG9yID0gbmV3IEF1dGhJbnRlcmNlcHRvcigpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuICAgICAgICAgIFwic3RhdHVzXCI6IE1lc3NhZ2VzLlNUQVRVU19TVUNDRVNTLFxyXG4gICAgICAgICAgXCJkYXRhXCI6IHtcclxuICAgICAgICAgICAgXCJyZWFzb25cIjogTWVzc2FnZXMuTVNHX1NVQ0NFU1NfUkVHSVNUUkFUSU9OLFxyXG4gICAgICAgICAgICBcImNvZGVfbmFtZVwiOiBuZXdJbmR1c3RyeS5jb2RlLFxyXG4gICAgICAgICAgICBcIm5hbWVcIjogbmV3SW5kdXN0cnkubmFtZSxcclxuICAgICAgICAgICAgXCJyb2xlc1wiOiBuZXdJbmR1c3RyeS5yb2xlcyxcclxuICAgICAgICAgICAgXCJfaWRcIjogcmVzdWx0Ll9pZCxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGNhdGNoIChlKSB7XHJcbiAgICBuZXh0KHtyZWFzb246IGUubWVzc2FnZSwgbWVzc2FnZTogZS5tZXNzYWdlLCBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSwgY29kZTogNTAwfSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==
