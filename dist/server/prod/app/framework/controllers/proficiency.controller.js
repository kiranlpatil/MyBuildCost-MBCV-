"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CNextMessages = require("../shared/cnext-messages");
var ProficiencyService = require("../services/proficiency.service");
function create(req, res, next) {
    var proficiencyModel = req.body;
    var proficiencyService = new ProficiencyService();
    proficiencyService.create(proficiencyModel, function (error, result) {
        if (error) {
            console.log("Error in posting proficiency ", error);
        }
        else {
            res.status(200).send({
                "status": "success",
            });
        }
    });
}
exports.create = create;
function retrieve(req, res, next) {
    try {
        var proficiencyService = new ProficiencyService();
        var params = req.params.id;
        proficiencyService.retrieve(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Proficiency  Retriving',
                    message: CNextMessages.PROFICIENCY_NOT_RETRIVED,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.retrieve = retrieve;
function update(req, res, next) {
    try {
        var proficiencyService = new ProficiencyService();
        var params = req.params.id;
        proficiencyService.pushIntoArray(req.query.proficiency, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Proficiency Updation',
                    message: CNextMessages.PROFICIENCY_NOT_UPDATED,
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": {
                        "message": "succesfully inserted proficiency into master data"
                    }
                });
            }
        });
    }
    catch (e) {
        res.status(403).send({ message: e.message });
    }
}
exports.update = update;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvcHJvZmljaWVuY3kuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLHdEQUEyRDtBQUUzRCxvRUFBdUU7QUFHdkUsZ0JBQXVCLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBQzNFLElBQUksZ0JBQWdCLEdBQXVDLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDcEUsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7SUFDbEQsa0JBQWtCLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLFVBQUMsS0FBSyxFQUFFLE1BQU07UUFDeEQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFdEQsQ0FBQztRQUNELElBQUksQ0FBQyxDQUFDO1lBQ0osR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ25CLFFBQVEsRUFBRSxTQUFTO2FBQ3BCLENBQUMsQ0FBQztRQUNMLENBQUM7SUFFSCxDQUFDLENBQUMsQ0FBQztBQUdMLENBQUM7QUFqQkQsd0JBaUJDO0FBRUQsa0JBQXlCLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBQzdFLElBQUksQ0FBQztRQUNILElBQUksa0JBQWtCLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1FBQ2xELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQzNCLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsVUFBQyxLQUFLLEVBQUUsTUFBTTtZQUNoRCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNWLElBQUksQ0FBQztvQkFDSCxNQUFNLEVBQUUsaUNBQWlDO29CQUN6QyxPQUFPLEVBQUUsYUFBYSxDQUFDLHdCQUF3QjtvQkFDL0MsSUFBSSxFQUFFLEdBQUc7aUJBQ1YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ1AsUUFBUSxFQUFFLFNBQVM7b0JBQ25CLE1BQU0sRUFBRSxNQUFNO2lCQUNmLENBQUMsQ0FBQztZQUNMLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztBQUNILENBQUM7QUF2QkQsNEJBdUJDO0FBRUQsZ0JBQXVCLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBRzNFLElBQUksQ0FBQztRQUNILElBQUksa0JBQWtCLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1FBQ2xELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQzNCLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ3BFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSwrQkFBK0I7b0JBQ3ZDLE9BQU8sRUFBRSxhQUFhLENBQUMsdUJBQXVCO29CQUM5QyxJQUFJLEVBQUUsR0FBRztpQkFDVixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQ0QsSUFBSSxDQUFDLENBQUM7Z0JBQ0osR0FBRyxDQUFDLElBQUksQ0FBQztvQkFDUCxRQUFRLEVBQUUsU0FBUztvQkFDbkIsTUFBTSxFQUFFO3dCQUNOLFNBQVMsRUFBRSxtREFBbUQ7cUJBQy9EO2lCQUNGLENBQUMsQ0FBQztZQUNMLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztBQUNILENBQUM7QUEzQkQsd0JBMkJDIiwiZmlsZSI6ImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvcHJvZmljaWVuY3kuY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XG5pbXBvcnQgSW5kdXN0cnlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2luZHVzdHJ5LnNlcnZpY2VcIik7XG5pbXBvcnQgQ05leHRNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvY25leHQtbWVzc2FnZXNcIik7XG5pbXBvcnQgUHJvZmljaWVuY3lNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3Byb2ZpY2llbmN5Lm1vZGVsXCIpO1xuaW1wb3J0IFByb2ZpY2llbmN5U2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9wcm9maWNpZW5jeS5zZXJ2aWNlXCIpO1xuaW1wb3J0IEF1dGhJbnRlcmNlcHRvciA9IHJlcXVpcmUoXCIuLi9pbnRlcmNlcHRvci9hdXRoLmludGVyY2VwdG9yXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xuICB2YXIgcHJvZmljaWVuY3lNb2RlbDogUHJvZmljaWVuY3lNb2RlbCA9IDxQcm9maWNpZW5jeU1vZGVsPnJlcS5ib2R5O1xuICB2YXIgcHJvZmljaWVuY3lTZXJ2aWNlID0gbmV3IFByb2ZpY2llbmN5U2VydmljZSgpO1xuICBwcm9maWNpZW5jeVNlcnZpY2UuY3JlYXRlKHByb2ZpY2llbmN5TW9kZWwsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGluIHBvc3RpbmcgcHJvZmljaWVuY3kgXCIsIGVycm9yKTtcblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSk7XG5cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cmlldmUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XG4gIHRyeSB7XG4gICAgdmFyIHByb2ZpY2llbmN5U2VydmljZSA9IG5ldyBQcm9maWNpZW5jeVNlcnZpY2UoKTtcbiAgICB2YXIgcGFyYW1zID0gcmVxLnBhcmFtcy5pZDtcbiAgICBwcm9maWNpZW5jeVNlcnZpY2UucmV0cmlldmUocGFyYW1zLCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIG5leHQoe1xuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIEluIFByb2ZpY2llbmN5ICBSZXRyaXZpbmcnLFxuICAgICAgICAgIG1lc3NhZ2U6IENOZXh0TWVzc2FnZXMuUFJPRklDSUVOQ1lfTk9UX1JFVFJJVkVELFxuICAgICAgICAgIGNvZGU6IDQwMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJkYXRhXCI6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHttZXNzYWdlOiBlLm1lc3NhZ2V9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xuXG5cbiAgdHJ5IHtcbiAgICB2YXIgcHJvZmljaWVuY3lTZXJ2aWNlID0gbmV3IFByb2ZpY2llbmN5U2VydmljZSgpO1xuICAgIHZhciBwYXJhbXMgPSByZXEucGFyYW1zLmlkO1xuICAgIHByb2ZpY2llbmN5U2VydmljZS5wdXNoSW50b0FycmF5KHJlcS5xdWVyeS5wcm9maWNpZW5jeSwgKGVycm9yLCByZXN1bHQpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBuZXh0KHtcbiAgICAgICAgICByZWFzb246ICdFcnJvciBJbiBQcm9maWNpZW5jeSBVcGRhdGlvbicsXG4gICAgICAgICAgbWVzc2FnZTogQ05leHRNZXNzYWdlcy5QUk9GSUNJRU5DWV9OT1RfVVBEQVRFRCxcbiAgICAgICAgICBjb2RlOiA0MDFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1lc3NhZ2VcIjogXCJzdWNjZXNmdWxseSBpbnNlcnRlZCBwcm9maWNpZW5jeSBpbnRvIG1hc3RlciBkYXRhXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe21lc3NhZ2U6IGUubWVzc2FnZX0pO1xuICB9XG59XG4iXX0=
