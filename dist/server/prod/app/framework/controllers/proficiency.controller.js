"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CNextMessages = require("../shared/cnext-messages");
var ProficiencyService = require("../services/proficiency.service");
function create(req, res, next) {
    var proficiencyModel = req.body;
    var proficiencyService = new ProficiencyService();
    proficiencyService.create(proficiencyModel, function (error, result) {
        if (error) {
            next(error);
        }
        else {
            res.status(200).send({
                "status": "success",
            });
        }
    });
}
exports.create = create;
function retrieve(req, res, next) {
    try {
        var proficiencyService = new ProficiencyService();
        var params = req.params.id;
        proficiencyService.retrieve(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Proficiency  Retriving',
                    message: CNextMessages.PROFICIENCY_NOT_RETRIVED,
                    stackTrace: new Error(),
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.retrieve = retrieve;
function update(req, res, next) {
    try {
        var proficiencyService = new ProficiencyService();
        var params = req.params.id;
        proficiencyService.pushIntoArray(req.query.proficiency, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Proficiency Updation',
                    message: CNextMessages.PROFICIENCY_NOT_UPDATED,
                    stackTrace: new Error(),
                    code: 401
                });
            }
            else {
                res.send({
                    "status": "success",
                    "data": {
                        "message": "succesfully inserted proficiency into master data"
                    }
                });
            }
        });
    }
    catch (e) {
        next({
            reason: e.message,
            message: e.message,
            stackTrace: new Error(),
            code: 500
        });
    }
}
exports.update = update;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvcHJvZmljaWVuY3kuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLHdEQUEyRDtBQUUzRCxvRUFBdUU7QUFHdkUsZ0JBQXVCLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBQzNFLElBQUksZ0JBQWdCLEdBQXVDLEdBQUcsQ0FBQyxJQUFJLENBQUM7SUFDcEUsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7SUFDbEQsa0JBQWtCLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLFVBQUMsS0FBSyxFQUFFLE1BQU07UUFDeEQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNiLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUNuQixRQUFRLEVBQUUsU0FBUzthQUNwQixDQUFDLENBQUM7UUFDTCxDQUFDO0lBRUgsQ0FBQyxDQUFDLENBQUM7QUFHTCxDQUFDO0FBZkQsd0JBZUM7QUFFRCxrQkFBeUIsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDN0UsSUFBSSxDQUFDO1FBQ0gsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDbEQsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDM0Isa0JBQWtCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ2hELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSxpQ0FBaUM7b0JBQ3pDLE9BQU8sRUFBRSxhQUFhLENBQUMsd0JBQXdCO29CQUMvQyxVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7b0JBQ3ZCLElBQUksRUFBRSxHQUFHO2lCQUNWLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxJQUFJLENBQUMsQ0FBQztnQkFDSixHQUFHLENBQUMsSUFBSSxDQUFDO29CQUNQLFFBQVEsRUFBRSxTQUFTO29CQUNuQixNQUFNLEVBQUUsTUFBTTtpQkFDZixDQUFDLENBQUM7WUFDTCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNULElBQUksQ0FBQztZQUNILE1BQU0sRUFBRSxDQUFDLENBQUMsT0FBTztZQUNqQixPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDbEIsVUFBVSxFQUFFLElBQUksS0FBSyxFQUFFO1lBQ3ZCLElBQUksRUFBRSxHQUFHO1NBQ1YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztBQUNILENBQUM7QUE3QkQsNEJBNkJDO0FBRUQsZ0JBQXVCLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBRzNFLElBQUksQ0FBQztRQUNILElBQUksa0JBQWtCLEdBQUcsSUFBSSxrQkFBa0IsRUFBRSxDQUFDO1FBQ2xELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQzNCLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFDLEtBQUssRUFBRSxNQUFNO1lBQ3BFLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDO29CQUNILE1BQU0sRUFBRSwrQkFBK0I7b0JBQ3ZDLE9BQU8sRUFBRSxhQUFhLENBQUMsdUJBQXVCO29CQUM5QyxVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7b0JBQ3ZCLElBQUksRUFBRSxHQUFHO2lCQUNWLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxJQUFJLENBQUMsQ0FBQztnQkFDSixHQUFHLENBQUMsSUFBSSxDQUFDO29CQUNQLFFBQVEsRUFBRSxTQUFTO29CQUNuQixNQUFNLEVBQUU7d0JBQ04sU0FBUyxFQUFFLG1EQUFtRDtxQkFDL0Q7aUJBQ0YsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDVCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDakIsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPO1lBQ2xCLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtZQUN2QixJQUFJLEVBQUUsR0FBRztTQUNWLENBQUMsQ0FBQztJQUNMLENBQUM7QUFDSCxDQUFDO0FBakNELHdCQWlDQyIsImZpbGUiOiJhcHAvZnJhbWV3b3JrL2NvbnRyb2xsZXJzL3Byb2ZpY2llbmN5LmNvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBNZXNzYWdlcyA9IHJlcXVpcmUoXCIuLi9zaGFyZWQvbWVzc2FnZXNcIik7XHJcbmltcG9ydCBJbmR1c3RyeVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2VydmljZXMvaW5kdXN0cnkuc2VydmljZVwiKTtcclxuaW1wb3J0IENOZXh0TWVzc2FnZXMgPSByZXF1aXJlKFwiLi4vc2hhcmVkL2NuZXh0LW1lc3NhZ2VzXCIpO1xyXG5pbXBvcnQgUHJvZmljaWVuY3lNb2RlbCA9IHJlcXVpcmUoXCIuLi9kYXRhYWNjZXNzL21vZGVsL3Byb2ZpY2llbmN5Lm1vZGVsXCIpO1xyXG5pbXBvcnQgUHJvZmljaWVuY3lTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL3Byb2ZpY2llbmN5LnNlcnZpY2VcIik7XHJcbmltcG9ydCBBdXRoSW50ZXJjZXB0b3IgPSByZXF1aXJlKFwiLi4vaW50ZXJjZXB0b3IvYXV0aC5pbnRlcmNlcHRvclwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgdmFyIHByb2ZpY2llbmN5TW9kZWw6IFByb2ZpY2llbmN5TW9kZWwgPSA8UHJvZmljaWVuY3lNb2RlbD5yZXEuYm9keTtcclxuICB2YXIgcHJvZmljaWVuY3lTZXJ2aWNlID0gbmV3IFByb2ZpY2llbmN5U2VydmljZSgpO1xyXG4gIHByb2ZpY2llbmN5U2VydmljZS5jcmVhdGUocHJvZmljaWVuY3lNb2RlbCwgKGVycm9yLCByZXN1bHQpID0+IHtcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgIG5leHQoZXJyb3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgcHJvZmljaWVuY3lTZXJ2aWNlID0gbmV3IFByb2ZpY2llbmN5U2VydmljZSgpO1xyXG4gICAgdmFyIHBhcmFtcyA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBwcm9maWNpZW5jeVNlcnZpY2UucmV0cmlldmUocGFyYW1zLCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KHtcclxuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIEluIFByb2ZpY2llbmN5ICBSZXRyaXZpbmcnLFxyXG4gICAgICAgICAgbWVzc2FnZTogQ05leHRNZXNzYWdlcy5QUk9GSUNJRU5DWV9OT1RfUkVUUklWRUQsXHJcbiAgICAgICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgICAgIGNvZGU6IDQwMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgXCJkYXRhXCI6IHJlc3VsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgY2F0Y2ggKGUpIHtcclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IGUubWVzc2FnZSxcclxuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNTAwXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcblxyXG5cclxuICB0cnkge1xyXG4gICAgdmFyIHByb2ZpY2llbmN5U2VydmljZSA9IG5ldyBQcm9maWNpZW5jeVNlcnZpY2UoKTtcclxuICAgIHZhciBwYXJhbXMgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgcHJvZmljaWVuY3lTZXJ2aWNlLnB1c2hJbnRvQXJyYXkocmVxLnF1ZXJ5LnByb2ZpY2llbmN5LCAoZXJyb3IsIHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBuZXh0KHtcclxuICAgICAgICAgIHJlYXNvbjogJ0Vycm9yIEluIFByb2ZpY2llbmN5IFVwZGF0aW9uJyxcclxuICAgICAgICAgIG1lc3NhZ2U6IENOZXh0TWVzc2FnZXMuUFJPRklDSUVOQ1lfTk9UX1VQREFURUQsXHJcbiAgICAgICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgICAgIGNvZGU6IDQwMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJlcy5zZW5kKHtcclxuICAgICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgICAgICAgXCJkYXRhXCI6IHtcclxuICAgICAgICAgICAgXCJtZXNzYWdlXCI6IFwic3VjY2VzZnVsbHkgaW5zZXJ0ZWQgcHJvZmljaWVuY3kgaW50byBtYXN0ZXIgZGF0YVwiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBjYXRjaCAoZSkge1xyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogZS5tZXNzYWdlLFxyXG4gICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA1MDBcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXX0=
