"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var RoleService = require("../services/role.service");
var IndustryService = require("../services/industry.service");
function retrieve(req, res, next) {
    try {
        var roleService = new RoleService();
        var industryService = new IndustryService();
        var params = req.params.id;
        console.time('GetRole');
        roleService.findByName(params, function (error, result) {
            if (error) {
                next({
                    reason: 'Error In Retriving',
                    message: "Error in Retriving",
                    stackTrace: new Error(),
                    code: 403
                });
            }
            else if (result.length <= 0) {
                res.status(403).send({ message: "No records in Industry" });
            }
            else {
                console.timeEnd('GetRole');
                res.send({
                    "status": "success",
                    "data": result
                });
            }
        });
    }
    catch (e) {
        next({ reason: e.message, message: e.message, stackTrace: new Error(), code: 500 });
    }
}
exports.retrieve = retrieve;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvcm9sZS5jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBS0Esc0RBQXlEO0FBQ3pELDhEQUFpRTtBQUdqRSxrQkFBeUIsR0FBb0IsRUFBRSxHQUFxQixFQUFFLElBQVM7SUFDN0UsSUFBSSxDQUFDO1FBQ0gsSUFBSSxXQUFXLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztRQUNwQyxJQUFJLGVBQWUsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQzNCLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDeEIsV0FBVyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsVUFBQyxLQUFLLEVBQUUsTUFBTTtZQUMzQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNWLElBQUksQ0FBQztvQkFDSCxNQUFNLEVBQUUsb0JBQW9CO29CQUM1QixPQUFPLEVBQUUsb0JBQW9CO29CQUM3QixVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7b0JBQ3ZCLElBQUksRUFBRSxHQUFHO2lCQUNWLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFDLE9BQU8sRUFBRSx3QkFBd0IsRUFBQyxDQUFDLENBQUM7WUFDNUQsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzNCLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ1AsUUFBUSxFQUFFLFNBQVM7b0JBQ25CLE1BQU0sRUFBRSxNQUFNO2lCQUNmLENBQUMsQ0FBQztZQUNMLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1QsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBQyxDQUFDLENBQUM7SUFDcEYsQ0FBQztBQUNILENBQUM7QUE5QkQsNEJBOEJDIiwiZmlsZSI6ImFwcC9mcmFtZXdvcmsvY29udHJvbGxlcnMvcm9sZS5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IEF1dGhJbnRlcmNlcHRvciA9IHJlcXVpcmUoXCIuLi9pbnRlcmNlcHRvci9hdXRoLmludGVyY2VwdG9yXCIpO1xuaW1wb3J0IE1lc3NhZ2VzID0gcmVxdWlyZShcIi4uL3NoYXJlZC9tZXNzYWdlc1wiKTtcbmltcG9ydCBSZXNwb25zZVNlcnZpY2UgPSByZXF1aXJlKFwiLi4vc2hhcmVkL3Jlc3BvbnNlLnNlcnZpY2VcIik7XG5pbXBvcnQgUm9sZU1vZGVsID0gcmVxdWlyZShcIi4uL2RhdGFhY2Nlc3MvbW9kZWwvcm9sZS5tb2RlbFwiKTtcbmltcG9ydCBSb2xlU2VydmljZSA9IHJlcXVpcmUoXCIuLi9zZXJ2aWNlcy9yb2xlLnNlcnZpY2VcIik7XG5pbXBvcnQgSW5kdXN0cnlTZXJ2aWNlID0gcmVxdWlyZShcIi4uL3NlcnZpY2VzL2luZHVzdHJ5LnNlcnZpY2VcIik7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpZXZlKHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xuICB0cnkge1xuICAgIHZhciByb2xlU2VydmljZSA9IG5ldyBSb2xlU2VydmljZSgpO1xuICAgIHZhciBpbmR1c3RyeVNlcnZpY2UgPSBuZXcgSW5kdXN0cnlTZXJ2aWNlKCk7XG4gICAgdmFyIHBhcmFtcyA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc29sZS50aW1lKCdHZXRSb2xlJyk7XG4gICAgcm9sZVNlcnZpY2UuZmluZEJ5TmFtZShwYXJhbXMsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgbmV4dCh7XG4gICAgICAgICAgcmVhc29uOiAnRXJyb3IgSW4gUmV0cml2aW5nJywvL01lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVycm9yIGluIFJldHJpdmluZ1wiLFxuICAgICAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxuICAgICAgICAgIGNvZGU6IDQwM1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHJlc3VsdC5sZW5ndGggPD0gMCkge1xuICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7bWVzc2FnZTogXCJObyByZWNvcmRzIGluIEluZHVzdHJ5XCJ9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ0dldFJvbGUnKTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIFwiZGF0YVwiOiByZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY2F0Y2ggKGUpIHtcbiAgICBuZXh0KHtyZWFzb246IGUubWVzc2FnZSwgbWVzc2FnZTogZS5tZXNzYWdlLCBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSwgY29kZTogNTAwfSk7XG4gIH1cbn1cblxuIl19
