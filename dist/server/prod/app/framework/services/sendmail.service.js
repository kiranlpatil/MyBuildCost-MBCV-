"use strict";
var nodemailer = require("nodemailer");
var Messages = require("../shared/messages");
var config = require('config');
var SendMailService = (function () {
    function SendMailService() {
    }
    SendMailService.prototype.sendMail = function (mailOptions, callback) {
        var smtpTransport = nodemailer.createTransport({
            service: config.get('TplSeed.mail.MAIL_SERVICE'),
            auth: {
                user: config.get('TplSeed.mail.MAIL_SENDER'),
                pass: config.get('TplSeed.mail.MAIL_SENDER_PASSWORD')
            }
        });
        smtpTransport.sendMail(mailOptions, function (error, response) {
            if (error) {
                callback(new Error(Messages.MSG_ERROR_EMAIL), response);
            }
            else {
                callback(null, response);
            }
        });
    };
    return SendMailService;
}());
Object.seal(SendMailService);
module.exports = SendMailService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvc2VydmljZXMvc2VuZG1haWwuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsdUNBQXlDO0FBQ3pDLDZDQUE4QztBQUM5QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFFL0I7SUFBQTtJQXNCQSxDQUFDO0lBcEJDLGtDQUFRLEdBQVIsVUFBUyxXQUFnQixFQUFFLFFBQWE7UUFDdEMsSUFBSSxhQUFhLEdBQUcsVUFBVSxDQUFDLGVBQWUsQ0FBQztZQUM3QyxPQUFPLEVBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztZQUUvQyxJQUFJLEVBQUU7Z0JBQ0osSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7Z0JBQzVDLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLG1DQUFtQyxDQUFDO2FBQ3REO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsYUFBYSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsVUFBVSxLQUFVLEVBQUUsUUFBYTtZQUNyRSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNWLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDMUQsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUNKLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDM0IsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0F0QkEsQUFzQkMsSUFBQTtBQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDN0IsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6ImFwcC9mcmFtZXdvcmsvc2VydmljZXMvc2VuZG1haWwuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG5vZGVtYWlsZXIgZnJvbSBcIm5vZGVtYWlsZXJcIjtcbmltcG9ydCBNZXNzYWdlcz1yZXF1aXJlKFwiLi4vc2hhcmVkL21lc3NhZ2VzXCIpO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xuXG5jbGFzcyBTZW5kTWFpbFNlcnZpY2Uge1xuXG4gIHNlbmRNYWlsKG1haWxPcHRpb25zOiBhbnksIGNhbGxiYWNrOiBhbnkpIHtcbiAgICBsZXQgc210cFRyYW5zcG9ydCA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICAgIHNlcnZpY2U6Y29uZmlnLmdldCgnVHBsU2VlZC5tYWlsLk1BSUxfU0VSVklDRScpLFxuXG4gICAgICBhdXRoOiB7XG4gICAgICAgIHVzZXI6IGNvbmZpZy5nZXQoJ1RwbFNlZWQubWFpbC5NQUlMX1NFTkRFUicpLFxuICAgICAgICBwYXNzOiBjb25maWcuZ2V0KCdUcGxTZWVkLm1haWwuTUFJTF9TRU5ERVJfUEFTU1dPUkQnKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc210cFRyYW5zcG9ydC5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24gKGVycm9yOiBhbnksIHJlc3BvbnNlOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoTWVzc2FnZXMuTVNHX0VSUk9SX0VNQUlMKSwgcmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG59XG5cbk9iamVjdC5zZWFsKFNlbmRNYWlsU2VydmljZSk7XG5leHBvcnQgPSBTZW5kTWFpbFNlcnZpY2U7XG4iXX0=
