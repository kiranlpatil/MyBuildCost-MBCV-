"use strict";
var Messages = require("../shared/messages");
var UserInterceptor = (function () {
    function UserInterceptor() {
    }
    UserInterceptor.prototype.login = function (req, res, next) {
        if ((req.body.email === undefined) || (req.body.password === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_WRONG_PASSWORD,
                stackTrace: new Error(),
                code: 400
            });
        }
        else if ((req.body.email === '') || (req.body.password === '')) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_WRONG_PASSWORD,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    UserInterceptor.prototype.create = function (req, res, next) {
        if ((req.body.first_name === undefined) || (req.body.email === undefined) ||
            (req.body.password === undefined) || (req.body.last_name === undefined) || (req.body.mobile_number === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        else if ((req.body.first_name === '') || (req.body.email === '') ||
            (req.body.password === '') || (req.body.last_name === '') || (req.body.mobile_number === '')) {
            next({ reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS, message: Messages.MSG_ERROR_EMPTY_FIELD, stackTrace: new Error(), code: 401 });
        }
        next();
    };
    UserInterceptor.prototype.createRecruiter = function (req, res, next) {
        if ((req.body.company_name === undefined) || (req.body.company_size === undefined) || (req.body.email === undefined) ||
            (req.body.password === undefined) || (req.body.location.country === undefined) || (req.body.location.state === undefined) ||
            (req.body.location.city === undefined) || (req.body.location.pin === undefined) || (req.body.mobile_number === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        else if ((req.body.company_name === '') || (req.body.company_size === '') || (req.body.email === '') ||
            (req.body.password === '') || (req.body.location.country === '') || (req.body.location.state === '') ||
            (req.body.location.city === '') || (req.body.location.pin === '') || (req.body.mobile_number === '')) {
            next({ reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS, message: Messages.MSG_ERROR_EMPTY_FIELD, stackTrace: new Error(), code: 401 });
        }
        next();
    };
    UserInterceptor.prototype.changePassword = function (req, res, next) {
        if ((req.body.current_password === undefined) || (req.body.new_password === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        else if ((req.body.current_password === '') || (req.body.new_password === '')) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_EMPTY_FIELD,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    UserInterceptor.prototype.getById = function (req, res, next) {
        next();
    };
    UserInterceptor.prototype.forgotPassword = function (req, res, next) {
        if ((req.body.email === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        else if ((req.body.email === '')) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_EMPTY_FIELD,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    UserInterceptor.prototype.sendMail = function (req, res, next) {
        if ((req.body.first_name === '') || (req.body.email === '') || (req.body.message === '')) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_EMPTY_FIELD,
                stackTrace: new Error(),
                code: 401
            });
        }
        else if ((req.body.first_name === undefined) || (req.body.email === undefined) || (req.body.message === undefined)) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    UserInterceptor.prototype.update = function (req, res, next) {
        if (req.params._id === undefined) {
            next({
                reason: Messages.MSG_ERROR_RSN_INVALID_CREDENTIALS,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    UserInterceptor.prototype.validateRegistrationStatus = function (req, res, next) {
        if ((req.params.mobileNo === undefined || req.params.mobileNo === '') &&
            (req.query.recruiterId === undefined || req.query.recruiterId === '')) {
            next({
                reason: Messages.MSG_ERROR_PROVIDE_MOBILE_NO,
                message: Messages.MSG_ERROR_FIELD_VERIFICATION,
                stackTrace: new Error(),
                code: 400
            });
        }
        next();
    };
    return UserInterceptor;
}());
module.exports = UserInterceptor;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvVXNlckludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw2Q0FBOEM7QUFFOUM7SUFFRTtJQUVBLENBQUM7SUFFRCwrQkFBSyxHQUFMLFVBQU0sR0FBUSxFQUFFLEdBQVEsRUFBRSxJQUFTO1FBRW5DLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDO2dCQUNILE1BQU0sRUFBRSxRQUFRLENBQUMsaUNBQWlDO2dCQUNsRCxPQUFPLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtnQkFDMUMsVUFBVSxFQUFFLElBQUksS0FBSyxFQUFFO2dCQUN2QixJQUFJLEVBQUUsR0FBRzthQUNWLENBQUMsQ0FBQztRQUNMLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUM7Z0JBQ0gsTUFBTSxFQUFFLFFBQVEsQ0FBQyxpQ0FBaUM7Z0JBQ2xELE9BQU8sRUFBRSxRQUFRLENBQUMsd0JBQXdCO2dCQUMxQyxVQUFVLEVBQUUsSUFBSSxLQUFLLEVBQUU7Z0JBQ3ZCLElBQUksRUFBRSxHQUFHO2FBQ1YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELElBQUksRUFBRSxDQUFDO0lBRVAsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFRLEVBQUUsR0FBUSxFQUFFLElBQVM7UUFFcEMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FB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QUcsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBRWpDLElBQUksQ0FBQztnQkFDSCxNQUFNLEVBQUUsUUFBUSxDQUFDLGlDQUFpQztnQkFDbEQsT0FBTyxFQUFFLFFBQVEsQ0FBQyw0QkFBNEI7Z0JBQzlDLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtnQkFDdkIsSUFBSSxFQUFFLEdBQUc7YUFDVixDQUFDLENBQUM7UUFFTCxDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUM7SUFDVCxDQUFDO0lBRUMsb0RBQTBCLEdBQTFCLFVBQTJCLEdBQVEsRUFBRSxHQUFRLEVBQUUsSUFBUztRQUV4RCxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxLQUFLLFNBQVMsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsS0FBSyxFQUFFLENBQUM7WUFDbkUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsS0FBSyxTQUFTLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhFLElBQUksQ0FBQztnQkFDSCxNQUFNLEVBQUUsUUFBUSxDQUFDLDJCQUEyQjtnQkFDNUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyw0QkFBNEI7Z0JBQzlDLFVBQVUsRUFBRSxJQUFJLEtBQUssRUFBRTtnQkFDdkIsSUFBSSxFQUFFLEdBQUc7YUFDVixDQUFDLENBQUM7UUFFTCxDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUM7SUFDVCxDQUFDO0lBRUQsc0JBQUM7QUFBRCxDQWhMQSxBQWdMQyxJQUFBO0FBQ0QsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6ImFwcC9mcmFtZXdvcmsvaW50ZXJjZXB0b3IvVXNlckludGVyY2VwdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lc3NhZ2VzPXJlcXVpcmUoJy4uL3NoYXJlZC9tZXNzYWdlcycpO1xyXG5cclxuY2xhc3MgVXNlckludGVyY2VwdG9yIHtcclxuXHJcbiAgY29uc3RydWN0b3IoKXtcclxuXHJcbiAgfVxyXG5cclxuICBsb2dpbihyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICBpZiAoKHJlcS5ib2R5LmVtYWlsID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5wYXNzd29yZCA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfV1JPTkdfUEFTU1dPUkQsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA0MDBcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAoKHJlcS5ib2R5LmVtYWlsID09PSAnJykgfHwgKHJlcS5ib2R5LnBhc3N3b3JkID09PSAnJykpIHtcclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcclxuICAgICAgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX1dST05HX1BBU1NXT1JELFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNDAwXHJcbiAgICB9KTtcclxuICB9XHJcbiAgbmV4dCgpO1xyXG5cclxuICB9XHJcblxyXG4gIGNyZWF0ZShyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICBpZiAoKHJlcS5ib2R5LmZpcnN0X25hbWUgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5LmVtYWlsID09PSB1bmRlZmluZWQpIHx8XHJcbiAgICAocmVxLmJvZHkucGFzc3dvcmQgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5Lmxhc3RfbmFtZSA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkubW9iaWxlX251bWJlciA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNDAwXHJcbiAgICB9KTtcclxuICB9IGVsc2UgaWYgKChyZXEuYm9keS5maXJzdF9uYW1lID09PSAnJykgfHwgKHJlcS5ib2R5LmVtYWlsID09PSAnJykgfHxcclxuICAgIChyZXEuYm9keS5wYXNzd29yZCA9PT0gJycpIHx8IChyZXEuYm9keS5sYXN0X25hbWUgPT09ICcnKSB8fCAocmVxLmJvZHkubW9iaWxlX251bWJlciA9PT0gJycpKSB7XHJcbiAgICBuZXh0KHtyZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUywgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0VNUFRZX0ZJRUxELHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLCBjb2RlOiA0MDF9KTtcclxuICB9XHJcbiAgbmV4dCgpO1xyXG5cclxufVxyXG5cclxuICBjcmVhdGVSZWNydWl0ZXIocmVxOiBhbnksIHJlczogYW55LCBuZXh0OiBhbnkpIHtcclxuXHJcbiAgaWYgKChyZXEuYm9keS5jb21wYW55X25hbWUgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5LmNvbXBhbnlfc2l6ZSA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkuZW1haWwgPT09IHVuZGVmaW5lZCkgfHxcclxuICAgIChyZXEuYm9keS5wYXNzd29yZCA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkubG9jYXRpb24uY291bnRyeSA9PT0gdW5kZWZpbmVkKSB8fCAocmVxLmJvZHkubG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgfHxcclxuICAgIChyZXEuYm9keS5sb2NhdGlvbi5jaXR5ID09PSB1bmRlZmluZWQpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5waW4gPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5Lm1vYmlsZV9udW1iZXIgPT09IHVuZGVmaW5lZCkpIHtcclxuXHJcbiAgICBuZXh0KHtcclxuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXHJcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9GSUVMRF9WRVJJRklDQVRJT04sXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA0MDBcclxuICAgIH0pO1xyXG5cclxuICB9IGVsc2UgaWYgKChyZXEuYm9keS5jb21wYW55X25hbWUgPT09ICcnKSB8fCAocmVxLmJvZHkuY29tcGFueV9zaXplID09PSAnJykgfHwgKHJlcS5ib2R5LmVtYWlsID09PSAnJykgfHxcclxuICAgIChyZXEuYm9keS5wYXNzd29yZCA9PT0gJycpIHx8IChyZXEuYm9keS5sb2NhdGlvbi5jb3VudHJ5ID09PSAnJykgfHwgKHJlcS5ib2R5LmxvY2F0aW9uLnN0YXRlID09PSAnJykgfHxcclxuICAgIChyZXEuYm9keS5sb2NhdGlvbi5jaXR5ID09PSAnJykgfHwgKHJlcS5ib2R5LmxvY2F0aW9uLnBpbiA9PT0gJycpIHx8IChyZXEuYm9keS5tb2JpbGVfbnVtYmVyID09PSAnJykpIHtcclxuXHJcbiAgICBuZXh0KHtyZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUywgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0VNUFRZX0ZJRUxELHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLCBjb2RlOiA0MDF9KTtcclxuXHJcbiAgfVxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuICBjaGFuZ2VQYXNzd29yZChyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICBpZiAoKHJlcS5ib2R5LmN1cnJlbnRfcGFzc3dvcmQgPT09IHVuZGVmaW5lZCkgfHwgKHJlcS5ib2R5Lm5ld19wYXNzd29yZCA9PT0gdW5kZWZpbmVkICkpIHtcclxuXHJcbiAgICBuZXh0KHtcclxuICAgICAgcmVhc29uOiBNZXNzYWdlcy5NU0dfRVJST1JfUlNOX0lOVkFMSURfQ1JFREVOVElBTFMsXHJcbiAgICAgIG1lc3NhZ2U6IE1lc3NhZ2VzLk1TR19FUlJPUl9GSUVMRF9WRVJJRklDQVRJT04sXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA0MDBcclxuICAgIH0pO1xyXG5cclxuICB9IGVsc2UgaWYgKChyZXEuYm9keS5jdXJyZW50X3Bhc3N3b3JkID09PSAnJykgfHwgKHJlcS5ib2R5Lm5ld19wYXNzd29yZCA9PT0gJycpKSB7XHJcblxyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRU1QVFlfRklFTEQsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA0MDBcclxuICAgIH0pO1xyXG5cclxuICB9XHJcbiAgbmV4dCgpO1xyXG5cclxufVxyXG5cclxuICBnZXRCeUlkKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XHJcbiAgICBuZXh0KCk7XHJcbiAgfVxyXG5cclxuICBmb3Jnb3RQYXNzd29yZChyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICAgIGlmICgocmVxLmJvZHkuZW1haWwgPT09IHVuZGVmaW5lZCApKSB7XHJcblxyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNDAwXHJcbiAgICB9KTtcclxuXHJcbiAgfSBlbHNlIGlmICgocmVxLmJvZHkuZW1haWwgPT09ICcnKSkge1xyXG5cclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcclxuICAgICAgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0VNUFRZX0ZJRUxELFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNDAwXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuICBzZW5kTWFpbChyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICBpZiAoKHJlcS5ib2R5LmZpcnN0X25hbWUgPT09ICcnICkgfHwgKHJlcS5ib2R5LmVtYWlsID09PSAnJyApIHx8IChyZXEuYm9keS5tZXNzYWdlID09PSAnJyApKSB7XHJcblxyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRU1QVFlfRklFTEQsXHJcbiAgICAgIHN0YWNrVHJhY2U6IG5ldyBFcnJvcigpLFxyXG4gICAgICBjb2RlOiA0MDFcclxuICAgIH0pO1xyXG5cclxuICB9IGVsc2UgaWYgKChyZXEuYm9keS5maXJzdF9uYW1lID09PSB1bmRlZmluZWQgKSB8fCAocmVxLmJvZHkuZW1haWwgPT09IHVuZGVmaW5lZCApIHx8IChyZXEuYm9keS5tZXNzYWdlID09PSB1bmRlZmluZWQgKSkge1xyXG5cclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9SU05fSU5WQUxJRF9DUkVERU5USUFMUyxcclxuICAgICAgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0ZJRUxEX1ZFUklGSUNBVElPTixcclxuICAgICAgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksXHJcbiAgICAgIGNvZGU6IDQwMFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbiAgdXBkYXRlKHJlcTogYW55LCByZXM6IGFueSwgbmV4dDogYW55KSB7XHJcblxyXG4gIGlmIChyZXEucGFyYW1zLl9pZCA9PT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgbmV4dCh7XHJcbiAgICAgIHJlYXNvbjogTWVzc2FnZXMuTVNHX0VSUk9SX1JTTl9JTlZBTElEX0NSRURFTlRJQUxTLFxyXG4gICAgICBtZXNzYWdlOiBNZXNzYWdlcy5NU0dfRVJST1JfRklFTERfVkVSSUZJQ0FUSU9OLFxyXG4gICAgICBzdGFja1RyYWNlOiBuZXcgRXJyb3IoKSxcclxuICAgICAgY29kZTogNDAwXHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuICB2YWxpZGF0ZVJlZ2lzdHJhdGlvblN0YXR1cyhyZXE6IGFueSwgcmVzOiBhbnksIG5leHQ6IGFueSkge1xyXG5cclxuICBpZiAoKHJlcS5wYXJhbXMubW9iaWxlTm8gPT09IHVuZGVmaW5lZCB8fCByZXEucGFyYW1zLm1vYmlsZU5vID09PSAnJykgJiZcclxuICAgIChyZXEucXVlcnkucmVjcnVpdGVySWQgPT09IHVuZGVmaW5lZCB8fCByZXEucXVlcnkucmVjcnVpdGVySWQgPT09ICcnKSkge1xyXG5cclxuICAgIG5leHQoe1xyXG4gICAgICByZWFzb246IE1lc3NhZ2VzLk1TR19FUlJPUl9QUk9WSURFX01PQklMRV9OTyxcclxuICAgICAgbWVzc2FnZTogTWVzc2FnZXMuTVNHX0VSUk9SX0ZJRUxEX1ZFUklGSUNBVElPTixcclxuICAgICAgc3RhY2tUcmFjZTogbmV3IEVycm9yKCksXHJcbiAgICAgIGNvZGU6IDQwMFxyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbn1cclxuZXhwb3J0ID0gVXNlckludGVyY2VwdG9yO1xyXG4iXX0=
