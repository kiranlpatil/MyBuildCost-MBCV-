"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var index_1 = require("../../../../shared/index");
var http_delegate_service_1 = require("../../../../shared/services/http-delegate.service");
var constants_1 = require("../../../../shared/constants");
var CostSummaryService = (function (_super) {
    __extends(CostSummaryService, _super);
    function CostSummaryService(messageService, httpDelegateService) {
        var _this = _super.call(this) || this;
        _this.messageService = messageService;
        _this.httpDelegateService = httpDelegateService;
        return _this;
    }
    CostSummaryService.prototype.getCostSummaryReport = function (projectId, defaultCostIn, defaultCostPer) {
        var url = index_1.API.THUMBRULE_RULE_RATE + '/' + index_1.API.PROJECT + '/' + projectId + '/';
        url = (defaultCostIn === constants_1.ProjectElements.RS_PER_SQFT) ? (url + index_1.API.RATE + '/' + index_1.API.SQFT) : (url + index_1.API.RATE + '/' + index_1.API.SQM);
        url = (defaultCostPer === constants_1.ProjectElements.SLAB_AREA) ? (url + '/' + index_1.API.AREA + '/' + index_1.API.SLAB_AREA) :
            ((defaultCostPer === constants_1.ProjectElements.CARPET_AREA) ? (url + '/' + index_1.API.AREA + '/' + index_1.API.CARPET_AREA) :
                (url + '/' + index_1.API.AREA + '/' + index_1.API.SALEABLE_AREA));
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.changeBudgetedCostAmountOfBuildingCostHead = function (projectId, buildingId, costHeadName, amount) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' + index_1.API.COSTHEAD;
        var body = {
            budgetedCostAmount: amount,
            costHead: costHeadName
        };
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.changeBudgetedCostAmountOfProjectCostHead = function (projectId, costHeadName, amount) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.COSTHEAD + '/' + index_1.API.BUDGETED_COST;
        var body = {
            budgetedCostAmount: amount,
            costHead: costHeadName
        };
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.inActiveCostHead = function (projectId, buildingId, costHeadId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' + index_1.API.COSTHEAD + '/' +
            costHeadId + '/' + index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_FALSE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.getAllInActiveProjectCostHeads = function (projectId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.COSTHEAD;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.getAllInActiveCostHeads = function (projectId, buildingId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' + index_1.API.COSTHEAD;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.activeCostHead = function (projectId, buildingId, selectedInActiveCostHeadId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' + index_1.API.COSTHEAD + '/' +
            selectedInActiveCostHeadId + '/' + index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_TRUE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.activateProjectCostHead = function (projectId, selectedInActiveCostHeadId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.COSTHEAD + '/' +
            selectedInActiveCostHeadId + '/' + index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_TRUE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.inactivateProjectCostHead = function (projectId, selectedInActiveCostHeadId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.COSTHEAD + '/' +
            selectedInActiveCostHeadId + '/' + index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_FALSE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.getInActiveCategories = function (projectId, buildingId, costHeadId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' +
            index_1.API.COSTHEAD + '/' + costHeadId + '/' + index_1.API.CATEGORYLIST;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.deactivateWorkItem = function (baseUrl, costHeadId, subCategoryId, workItemId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' +
            costHeadId + '/' + index_1.API.CATEGORY + '/' + subCategoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' +
            index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_FALSE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.getInActiveWorkItems = function (baseUrl, costHeadId, subCategoryId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' +
            costHeadId + '/' + index_1.API.CATEGORY + '/' + subCategoryId + '/' + index_1.API.WORKITEM;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.activateWorkItem = function (baseUrl, costHeadId, subCategoryId, workItemId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' +
            costHeadId + '/' + index_1.API.CATEGORY + '/' + subCategoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' +
            index_1.API.ACTIVE_STATUS + '/' + index_1.API.ACTIVE_STATUS_TRUE;
        var body = {};
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.getQuantity = function (costHeadName, costHeadItem) {
        var url = index_1.API.PROJECT + '/' + index_1.SessionStorageService.getSessionValue(index_1.SessionStorage.CURRENT_PROJECT_ID) +
            '/' + index_1.API.BUILDING + '/' + index_1.SessionStorageService.getSessionValue(index_1.SessionStorage.CURRENT_BUILDING) +
            '/' + index_1.API.QUANTITY + '/' + costHeadName + '/' + index_1.API.WORKITEM + '/' + costHeadItem;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.updateQuantityItems = function (baseUrl, costHeadId, categoryId, workItemId, quantityItemsArray) {
        var body = { item: quantityItemsArray };
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId +
            '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' + index_1.API.QUANTITY;
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.updateDirectQuantityAmount = function (baseUrl, costHeadId, categoryId, workItemId, directQuantity) {
        var body = { directQuantity: directQuantity };
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId +
            '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' + index_1.API.DIRECT + '/' + index_1.API.QUANTITY;
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.deleteQuantityDetailsByName = function (baseUrl, costHeadId, categoryId, workItemId, quantityName) {
        var body = { item: { name: quantityName } };
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId +
            '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' + index_1.API.QUANTITY + '/' + index_1.API.ITEM;
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.updateRate = function (baseUrl, costHeadId, categoryId, workItemId, rateItemsArray) {
        var body = rateItemsArray;
        var url = baseUrl + '/' + index_1.API.RATE + '/' + index_1.API.COSTHEAD + '/' +
            costHeadId + '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId;
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.updateDirectRate = function (baseUrl, costHeadId, categoryId, workItemId, directRate) {
        var body = { directRate: directRate };
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId +
            '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId + '/' + index_1.API.DIRECT + '/' + index_1.API.RATE;
        return this.httpDelegateService.putAPI(url, body);
    };
    CostSummaryService.prototype.getRateItems = function (projectId, buildingId, costheadId, categoryId, workItemId) {
        var url = index_1.API.PROJECT + '/' + projectId + '/' + index_1.API.BUILDING + '/' + buildingId + '/' + index_1.API.RATE + '/' + index_1.API.COSTHEAD + '/' +
            costheadId + '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEM + '/' + workItemId;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.getCategories = function (baseUrl, costHeadId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId + '/' + index_1.API.CATEGORY;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.getCostHeadDetails = function (baseUrl, costHeadId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.getActiveWorkItemsOfCategory = function (baseUrl, costHeadId, categoryId) {
        var url = baseUrl + '/' + index_1.API.COSTHEAD + '/' + costHeadId + '/' + index_1.API.CATEGORY + '/' + categoryId + '/' + index_1.API.WORKITEMLIST;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService.prototype.getRateItemsByOriginalName = function (baseUrl, originalRateItemName) {
        var url = baseUrl + '/' + index_1.API.RATES + '/' + index_1.API.RATE_ITEM + '/' + originalRateItemName;
        return this.httpDelegateService.getAPI(url);
    };
    CostSummaryService = __decorate([
        core_1.Injectable(),
        __metadata("design:paramtypes", [index_1.MessageService, http_delegate_service_1.HttpDelegateService])
    ], CostSummaryService);
    return CostSummaryService;
}(index_1.BaseService));
exports.CostSummaryService = CostSummaryService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9idWlsZC1pbmZvL2ZyYW1ld29yay9wcm9qZWN0L2Nvc3Qtc3VtbWFyeS1yZXBvcnQvY29zdC1zdW1tYXJ5LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0NBQTJDO0FBQzNDLGtEQUFtSDtBQUNuSCwyRkFBd0Y7QUFHeEYsMERBQStEO0FBRy9EO0lBQXdDLHNDQUFXO0lBRWpELDRCQUFzQixjQUE4QixFQUFZLG1CQUF5QztRQUF6RyxZQUNFLGlCQUFPLFNBQ1I7UUFGcUIsb0JBQWMsR0FBZCxjQUFjLENBQWdCO1FBQVkseUJBQW1CLEdBQW5CLG1CQUFtQixDQUFzQjs7SUFFekcsQ0FBQztJQUdELGlEQUFvQixHQUFwQixVQUFxQixTQUFpQixFQUFDLGFBQW9CLEVBQUMsY0FBcUI7UUFFL0UsSUFBSSxHQUFHLEdBQUcsV0FBRyxDQUFDLG1CQUFtQixHQUFHLEdBQUcsR0FBRSxXQUFHLENBQUMsT0FBTyxHQUFFLEdBQUcsR0FBQyxTQUFTLEdBQUMsR0FBRyxDQUFDO1FBQ3hFLEdBQUcsR0FBSSxDQUFFLGFBQWEsS0FBSywyQkFBZSxDQUFDLFdBQVcsQ0FBRSxHQUFHLENBQUUsR0FBRyxHQUFHLFdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLFdBQUcsQ0FBQyxJQUFJLENBQUUsR0FBRyxDQUFFLEdBQUcsR0FBRyxXQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxXQUFHLENBQUMsR0FBRyxDQUFFLENBQUM7UUFDcEksR0FBRyxHQUFFLENBQUUsY0FBYyxLQUFLLDJCQUFlLENBQUMsU0FBUyxDQUFFLEdBQUksQ0FBRSxHQUFHLEdBQUcsR0FBRyxHQUFFLFdBQUcsQ0FBQyxJQUFJLEdBQUUsR0FBRyxHQUFHLFdBQUcsQ0FBQyxTQUFTLENBQUU7WUFDbkcsQ0FBQyxDQUFFLGNBQWMsS0FBSywyQkFBZSxDQUFDLFdBQVcsQ0FBRSxHQUFHLENBQUUsR0FBRyxHQUFHLEdBQUcsR0FB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R0FBRSxXQUFHLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRSxvQkFBb0IsQ0FBQztRQUNsRixNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBN05VLGtCQUFrQjtRQUQ5QixpQkFBVSxFQUFFO3lDQUcyQixzQkFBYyxFQUFrQywyQ0FBbUI7T0FGOUYsa0JBQWtCLENBOE45QjtJQUFELHlCQUFDO0NBOU5ELEFBOE5DLENBOU51QyxtQkFBVyxHQThObEQ7QUE5TlksZ0RBQWtCIiwiZmlsZSI6ImFwcC9idWlsZC1pbmZvL2ZyYW1ld29yay9wcm9qZWN0L2Nvc3Qtc3VtbWFyeS1yZXBvcnQvY29zdC1zdW1tYXJ5LnNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEFQSSwgQmFzZVNlcnZpY2UsIFNlc3Npb25TdG9yYWdlLCBTZXNzaW9uU3RvcmFnZVNlcnZpY2UsIE1lc3NhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL2luZGV4JztcclxuaW1wb3J0IHsgSHR0cERlbGVnYXRlU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC9zZXJ2aWNlcy9odHRwLWRlbGVnYXRlLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBRdWFudGl0eUl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbC9xdWFudGl0eS1pdGVtJztcclxuaW1wb3J0IHsgUmF0ZSB9IGZyb20gJy4uLy4uL21vZGVsL3JhdGUnO1xyXG5pbXBvcnQgeyBQcm9qZWN0RWxlbWVudHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIENvc3RTdW1tYXJ5U2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlIHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIG1lc3NhZ2VTZXJ2aWNlOiBNZXNzYWdlU2VydmljZSwgcHJvdGVjdGVkIGh0dHBEZWxlZ2F0ZVNlcnZpY2UgOiBIdHRwRGVsZWdhdGVTZXJ2aWNlKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxuXHJcbiAgLy9SZXBvcnQgY2hhbmdlc1xyXG4gIGdldENvc3RTdW1tYXJ5UmVwb3J0KHByb2plY3RJZDogc3RyaW5nLGRlZmF1bHRDb3N0SW46c3RyaW5nLGRlZmF1bHRDb3N0UGVyOnN0cmluZykge1xyXG5cclxuICAgIHZhciB1cmwgPSBBUEkuVEhVTUJSVUxFX1JVTEVfUkFURSArICcvJysgQVBJLlBST0pFQ1QgKycvJytwcm9qZWN0SWQrJy8nO1xyXG4gICAgdXJsID0gICggZGVmYXVsdENvc3RJbiA9PT0gUHJvamVjdEVsZW1lbnRzLlJTX1BFUl9TUUZUICkgPyAoIHVybCArIEFQSS5SQVRFICsgJy8nICsgQVBJLlNRRlQgKSA6ICggdXJsICsgQVBJLlJBVEUgKyAnLycgKyBBUEkuU1FNICk7XHJcbiAgICB1cmw9ICggZGVmYXVsdENvc3RQZXIgPT09IFByb2plY3RFbGVtZW50cy5TTEFCX0FSRUEgKSA/ICAoIHVybCArICcvJysgQVBJLkFSRUEgKycvJyArIEFQSS5TTEFCX0FSRUEgKSA6XHJcbiAgICAgICgoIGRlZmF1bHRDb3N0UGVyID09PSBQcm9qZWN0RWxlbWVudHMuQ0FSUEVUX0FSRUEgKSA/ICggdXJsICsgJy8nKyBBUEkuQVJFQSArJy8nICsgQVBJLkNBUlBFVF9BUkVBICkgOlxyXG4gICAgICAgICggdXJsICsgJy8nKyBBUEkuQVJFQSArJy8nICsgQVBJLlNBTEVBQkxFX0FSRUEgKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5nZXRBUEkodXJsKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZUJ1ZGdldGVkQ29zdEFtb3VudE9mQnVpbGRpbmdDb3N0SGVhZChwcm9qZWN0SWQgOiBzdHJpbmcsIGJ1aWxkaW5nSWQgOiBzdHJpbmcsIGNvc3RIZWFkTmFtZSA6IHN0cmluZywgYW1vdW50IDogbnVtYmVyKSB7XHJcbiAgICB2YXIgdXJsID0gQVBJLlBST0pFQ1QgKyAnLycgKyBwcm9qZWN0SWQgKyAnLycgKyBBUEkuQlVJTERJTkcgKyAnLycgKyBidWlsZGluZ0lkICsgJy8nICsgQVBJLkNPU1RIRUFEIDtcclxuICAgIHZhciBib2R5ID0ge1xyXG4gICAgICBidWRnZXRlZENvc3RBbW91bnQgOiBhbW91bnQsXHJcbiAgICAgIGNvc3RIZWFkIDogY29zdEhlYWROYW1lXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UucHV0QVBJKHVybCwgYm9keSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VCdWRnZXRlZENvc3RBbW91bnRPZlByb2plY3RDb3N0SGVhZChwcm9qZWN0SWQgOiBzdHJpbmcsIGNvc3RIZWFkTmFtZSA6IHN0cmluZywgYW1vdW50IDogbnVtYmVyKSB7XHJcblxyXG4gICAgdmFyIHVybCA9IEFQSS5QUk9KRUNUICsgJy8nICsgcHJvamVjdElkICsgJy8nICsgQVBJLkNPU1RIRUFEICsgJy8nICsgQVBJLkJVREdFVEVEX0NPU1Q7XHJcbiAgICB2YXIgYm9keSA9IHtcclxuICAgICAgYnVkZ2V0ZWRDb3N0QW1vdW50IDogYW1vdW50LFxyXG4gICAgICBjb3N0SGVhZCA6IGNvc3RIZWFkTmFtZVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29zdCBIZWFkIENSVUQgQVBJXHJcbiAgaW5BY3RpdmVDb3N0SGVhZChwcm9qZWN0SWQ6c3RyaW5nLCBidWlsZGluZ0lkOnN0cmluZywgY29zdEhlYWRJZDpudW1iZXIpIHtcclxuICAgIHZhciB1cmwgPSAgQVBJLlBST0pFQ1QgKyAnLycrIHByb2plY3RJZCArJy8nKyBBUEkuQlVJTERJTkcgKycvJysgYnVpbGRpbmdJZCArJy8nKyBBUEkuQ09TVEhFQUQgKycvJytcclxuICAgICAgY29zdEhlYWRJZCArJy8nKyBBUEkuQUNUSVZFX1NUQVRVUyArJy8nKyBBUEkuQUNUSVZFX1NUQVRVU19GQUxTRTtcclxuICAgIGxldCBib2R5ID0ge307XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5wdXRBUEkodXJsLCBib2R5KTtcclxuICB9XHJcblxyXG4gIGdldEFsbEluQWN0aXZlUHJvamVjdENvc3RIZWFkcyhwcm9qZWN0SWQgOiBzdHJpbmcpIHtcclxuICAgIHZhciB1cmwgPSBBUEkuUFJPSkVDVCArICcvJysgcHJvamVjdElkICsgJy8nICsgQVBJLkNPU1RIRUFEO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICBnZXRBbGxJbkFjdGl2ZUNvc3RIZWFkcyhwcm9qZWN0SWQgOiBzdHJpbmcsIGJ1aWxkaW5nSWQgOiBzdHJpbmcpIHtcclxuICAgIHZhciB1cmwgPSBBUEkuUFJPSkVDVCArICcvJysgcHJvamVjdElkICsgJy8nKyBBUEkuQlVJTERJTkcgKyAnLycgKyBidWlsZGluZ0lkICsgJy8nICsgQVBJLkNPU1RIRUFEO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICAvLyBSZWNvbnNpZGVyIHRoaXMgbWV0aG9kXHJcbiAgYWN0aXZlQ29zdEhlYWQoIHByb2plY3RJZCA6IHN0cmluZywgYnVpbGRpbmdJZCA6IHN0cmluZywgc2VsZWN0ZWRJbkFjdGl2ZUNvc3RIZWFkSWQgOiBudW1iZXIpIHtcclxuICAgIHZhciB1cmwgPSBBUEkuUFJPSkVDVCArICcvJyArIHByb2plY3RJZCArICcvJyArIEFQSS5CVUlMRElORyArICcvJyArIGJ1aWxkaW5nSWQgKyAnLycrIEFQSS5DT1NUSEVBRCArJy8nICtcclxuICAgICAgc2VsZWN0ZWRJbkFjdGl2ZUNvc3RIZWFkSWQgKycvJysgQVBJLkFDVElWRV9TVEFUVVMgKyAnLycgKyBBUEkuQUNUSVZFX1NUQVRVU19UUlVFO1xyXG4gICAgbGV0IGJvZHkgPSB7fTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVQcm9qZWN0Q29zdEhlYWQoIHByb2plY3RJZCA6IHN0cmluZywgc2VsZWN0ZWRJbkFjdGl2ZUNvc3RIZWFkSWQgOiBudW1iZXIpIHtcclxuICAgIHZhciB1cmwgPSBBUEkuUFJPSkVDVCArICcvJyArIHByb2plY3RJZCArICcvJyArIEFQSS5DT1NUSEVBRCArJy8nICtcclxuICAgICAgc2VsZWN0ZWRJbkFjdGl2ZUNvc3RIZWFkSWQgKycvJysgQVBJLkFDVElWRV9TVEFUVVMgKyAnLycgKyBBUEkuQUNUSVZFX1NUQVRVU19UUlVFO1xyXG4gICAgbGV0IGJvZHkgPSB7fTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgaW5hY3RpdmF0ZVByb2plY3RDb3N0SGVhZCggcHJvamVjdElkIDogc3RyaW5nLCBzZWxlY3RlZEluQWN0aXZlQ29zdEhlYWRJZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9IEFQSS5QUk9KRUNUICsgJy8nICsgcHJvamVjdElkICsgJy8nICsgQVBJLkNPU1RIRUFEICsnLycgK1xyXG4gICAgICBzZWxlY3RlZEluQWN0aXZlQ29zdEhlYWRJZCArJy8nKyBBUEkuQUNUSVZFX1NUQVRVUyArICcvJyArIEFQSS5BQ1RJVkVfU1RBVFVTX0ZBTFNFO1xyXG4gICAgbGV0IGJvZHkgPSB7fTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5BY3RpdmVDYXRlZ29yaWVzKHByb2plY3RJZCA6IHN0cmluZywgYnVpbGRpbmdJZCA6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9ICBBUEkuUFJPSkVDVCArICcvJyArIHByb2plY3RJZCArICcvJyArIEFQSS5CVUlMRElORyArICcvJyArIGJ1aWxkaW5nSWQgKyAnLycgK1xyXG4gICAgICBBUEkuQ09TVEhFQUQgKycvJyArIGNvc3RIZWFkSWQgKyAnLycgKyBBUEkuQ0FURUdPUllMSVNUO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICAvLyBXb3JrSXRlbSAgQ1JVRCBBUElcclxuICBkZWFjdGl2YXRlV29ya0l0ZW0oIGJhc2VVcmw6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlciwgc3ViQ2F0ZWdvcnlJZCA6IG51bWJlciwgd29ya0l0ZW1JZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9ICBiYXNlVXJsICsnLycrIEFQSS5DT1NUSEVBRCArJy8nK1xyXG4gICAgICBjb3N0SGVhZElkICsgJy8nKyBBUEkuQ0FURUdPUlkgKycvJysgc3ViQ2F0ZWdvcnlJZCArJy8nICsgQVBJLldPUktJVEVNICsgJy8nICsgd29ya0l0ZW1JZCArJy8nK1xyXG4gICAgICBBUEkuQUNUSVZFX1NUQVRVUyArJy8nKyBBUEkuQUNUSVZFX1NUQVRVU19GQUxTRTtcclxuICAgIGxldCBib2R5ID0ge307XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5wdXRBUEkodXJsLCBib2R5KTtcclxuICB9XHJcblxyXG4gIGdldEluQWN0aXZlV29ya0l0ZW1zKCBiYXNlVXJsOiBzdHJpbmcsIGNvc3RIZWFkSWQgOiBudW1iZXIsIHN1YkNhdGVnb3J5SWQgOiBudW1iZXIpIHtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgJy8nICsgQVBJLkNPU1RIRUFEKycvJytcclxuICAgICAgY29zdEhlYWRJZCArICcvJysgQVBJLkNBVEVHT1JZICArJy8nKyBzdWJDYXRlZ29yeUlkICsnLycgKyBBUEkuV09SS0lURU0gO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmF0ZVdvcmtJdGVtKGJhc2VVcmwgOiBzdHJpbmcsIGNvc3RIZWFkSWQgOiBudW1iZXIsIHN1YkNhdGVnb3J5SWQgOiBudW1iZXIsIHdvcmtJdGVtSWQgOiBudW1iZXIpIHtcclxuICAgIHZhciB1cmwgPSAgYmFzZVVybCArJy8nKyBBUEkuQ09TVEhFQUQgKycvJytcclxuICAgICAgY29zdEhlYWRJZCArICcvJysgQVBJLkNBVEVHT1JZICsnLycrIHN1YkNhdGVnb3J5SWQgKycvJyArIEFQSS5XT1JLSVRFTSArICcvJyArIHdvcmtJdGVtSWQgKycvJytcclxuICAgICAgQVBJLkFDVElWRV9TVEFUVVMgKycvJysgQVBJLkFDVElWRV9TVEFUVVNfVFJVRTtcclxuICAgIGxldCBib2R5ID0ge307XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5wdXRBUEkodXJsLCBib2R5KTtcclxuICB9XHJcblxyXG4gIC8vIFF1YW50aXR5IEFQSSAoTm90IGluIHVzZSlcclxuICBnZXRRdWFudGl0eShjb3N0SGVhZE5hbWU6YW55LGNvc3RIZWFkSXRlbTphbnkpIHtcclxuICAgIHZhciB1cmwgPSBBUEkuUFJPSkVDVCArICcvJyArIFNlc3Npb25TdG9yYWdlU2VydmljZS5nZXRTZXNzaW9uVmFsdWUoU2Vzc2lvblN0b3JhZ2UuQ1VSUkVOVF9QUk9KRUNUX0lEKStcclxuICAgICAgJy8nKyBBUEkuQlVJTERJTkcgKyAnLycgK1Nlc3Npb25TdG9yYWdlU2VydmljZS5nZXRTZXNzaW9uVmFsdWUoU2Vzc2lvblN0b3JhZ2UuQ1VSUkVOVF9CVUlMRElORykrXHJcbiAgICAgICcvJyArIEFQSS5RVUFOVElUWSArICcvJyArIGNvc3RIZWFkTmFtZSArICcvJyArIEFQSS5XT1JLSVRFTSArICcvJytjb3N0SGVhZEl0ZW0gO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVRdWFudGl0eUl0ZW1zKCBiYXNlVXJsOiBzdHJpbmcsIGNvc3RIZWFkSWQgOiBudW1iZXIsIGNhdGVnb3J5SWQgOiBudW1iZXIsIHdvcmtJdGVtSWQgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eUl0ZW1zQXJyYXkgOiBhbnkpIHtcclxuICAgIHZhciBib2R5PSB7IGl0ZW0gOiBxdWFudGl0eUl0ZW1zQXJyYXkgfTtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgJy8nKyBBUEkuQ09TVEhFQUQgKycvJyArIGNvc3RIZWFkSWQgK1xyXG4gICAgICAnLycrIEFQSS5DQVRFR09SWSArJy8nKyBjYXRlZ29yeUlkICsnLycgKyBBUEkuV09SS0lURU0gKyAnLycgKyB3b3JrSXRlbUlkICsgJy8nKyBBUEkuUVVBTlRJVFk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5wdXRBUEkodXJsLCBib2R5KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURpcmVjdFF1YW50aXR5QW1vdW50KCBiYXNlVXJsOiBzdHJpbmcsIGNvc3RIZWFkSWQgOiBudW1iZXIsIGNhdGVnb3J5SWQgOiBudW1iZXIsIHdvcmtJdGVtSWQgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0UXVhbnRpdHkgOiBudW1iZXIpIHtcclxuICAgIHZhciBib2R5PSB7IGRpcmVjdFF1YW50aXR5IDogZGlyZWN0UXVhbnRpdHkgfTtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgJy8nKyBBUEkuQ09TVEhFQUQgKycvJyArIGNvc3RIZWFkSWQgK1xyXG4gICAgICAnLycrIEFQSS5DQVRFR09SWSArJy8nKyBjYXRlZ29yeUlkICsnLycgKyBBUEkuV09SS0lURU0gKyAnLycgKyB3b3JrSXRlbUlkICsgJy8nKyBBUEkuRElSRUNUICsgJy8nKyBBUEkuUVVBTlRJVFk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5wdXRBUEkodXJsLCBib2R5KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZVF1YW50aXR5RGV0YWlsc0J5TmFtZSggYmFzZVVybDogc3RyaW5nLCBjb3N0SGVhZElkIDogbnVtYmVyLCBjYXRlZ29yeUlkIDogbnVtYmVyLCB3b3JrSXRlbUlkIDogbnVtYmVyLCBxdWFudGl0eU5hbWU6c3RyaW5nKSB7XHJcbiAgICB2YXIgYm9keT0geyBpdGVtOiB7IG5hbWUgOiBxdWFudGl0eU5hbWUgfSB9O1xyXG4gICAgdmFyIHVybCA9IGJhc2VVcmwgKyAnLycrIEFQSS5DT1NUSEVBRCArJy8nICsgY29zdEhlYWRJZCArXHJcbiAgICAgICcvJysgQVBJLkNBVEVHT1JZICsnLycrIGNhdGVnb3J5SWQgKycvJyArIEFQSS5XT1JLSVRFTSArICcvJyArIHdvcmtJdGVtSWQgKyAnLycrIEFQSS5RVUFOVElUWSArICcvJyArIEFQSS5JVEVNO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UucHV0QVBJKHVybCwgYm9keSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy9SYXRlIEFQSVxyXG4gIHVwZGF0ZVJhdGUoIGJhc2VVcmw6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlcixjYXRlZ29yeUlkIDogbnVtYmVyLCB3b3JrSXRlbUlkIDogbnVtYmVyLFxyXG4gICAgICAgICAgICAgIHJhdGVJdGVtc0FycmF5IDogUmF0ZSkge1xyXG4gICAgdmFyIGJvZHk9cmF0ZUl0ZW1zQXJyYXk7XHJcbiAgICB2YXIgdXJsID0gYmFzZVVybCArICcvJyArIEFQSS5SQVRFICsgJy8nICsgQVBJLkNPU1RIRUFEKyAnLycgK1xyXG4gICAgICBjb3N0SGVhZElkICsgJy8nICsgQVBJLkNBVEVHT1JZICsgJy8nICsgY2F0ZWdvcnlJZCArICcvJyArIEFQSS5XT1JLSVRFTSArICcvJyArIHdvcmtJdGVtSWQgO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UucHV0QVBJKHVybCwgYm9keSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVEaXJlY3RSYXRlKCBiYXNlVXJsOiBzdHJpbmcsIGNvc3RIZWFkSWQgOiBudW1iZXIsIGNhdGVnb3J5SWQgOiBudW1iZXIsIHdvcmtJdGVtSWQgOiBudW1iZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0UmF0ZSA6IG51bWJlcikge1xyXG4gICAgdmFyIGJvZHk9IHsgZGlyZWN0UmF0ZSA6IGRpcmVjdFJhdGUgfTtcclxuICAgIHZhciB1cmwgPSBiYXNlVXJsICsgJy8nKyBBUEkuQ09TVEhFQUQgKycvJyArIGNvc3RIZWFkSWQgK1xyXG4gICAgICAnLycrIEFQSS5DQVRFR09SWSArJy8nKyBjYXRlZ29yeUlkICsnLycgKyBBUEkuV09SS0lURU0gKyAnLycgKyB3b3JrSXRlbUlkICsgJy8nKyBBUEkuRElSRUNUICsgJy8nKyBBUEkuUkFURTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcblxyXG4gIGdldFJhdGVJdGVtcyggcHJvamVjdElkIDogU3RyaW5nLCBidWlsZGluZ0lkIDogc3RyaW5nLCBjb3N0aGVhZElkIDogbnVtYmVyLCBjYXRlZ29yeUlkIDogbnVtYmVyLCB3b3JrSXRlbUlkIDogbnVtYmVyKSB7XHJcbiAgICB2YXIgdXJsID0gQVBJLlBST0pFQ1QgKyAnLycgKyBwcm9qZWN0SWQgKyAnLycgKyBBUEkuQlVJTERJTkcgKyAnLycgKyBidWlsZGluZ0lkICsgJy8nICsgQVBJLlJBVEUgKyAnLycrIEFQSS5DT1NUSEVBRCArJy8nICtcclxuICAgICAgY29zdGhlYWRJZCArICcvJyArIEFQSS5DQVRFR09SWSArICcvJytjYXRlZ29yeUlkICsgJy8nICsgQVBJLldPUktJVEVNICsgJy8nK3dvcmtJdGVtSWQgO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmh0dHBEZWxlZ2F0ZVNlcnZpY2UuZ2V0QVBJKHVybCk7XHJcbiAgfVxyXG5cclxuICAvL0NhdGVnb3J5IEFQSVxyXG4gIGdldENhdGVnb3JpZXMoYmFzZVVybDogc3RyaW5nLCBjb3N0SGVhZElkIDogbnVtYmVyKSB7XHJcbiAgICB2YXIgdXJsID0gYmFzZVVybCArJy8nKyBBUEkuQ09TVEhFQUQrICcvJyArIGNvc3RIZWFkSWQgKyAnLycgKyBBUEkuQ0FURUdPUlk7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLmdldEFQSSh1cmwpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29zdEhlYWREZXRhaWxzKGJhc2VVcmw6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9IGJhc2VVcmwgKycvJysgQVBJLkNPU1RIRUFEKyAnLycgKyBjb3N0SGVhZElkO1xyXG4gICAgcmV0dXJuIHRoaXMuaHR0cERlbGVnYXRlU2VydmljZS5nZXRBUEkodXJsKTtcclxuICB9XHJcblxyXG4gIC8qLy9JbiBBY3RpdmUgQ2F0ZWdvcnlcclxuICBkZWFjdGl2YXRlQ2F0ZWdvcnkocHJvamVjdElkIDogU3RyaW5nLCBidWlsZGluZ0lkIDogc3RyaW5nLCBjb3N0SGVhZElkIDogbnVtYmVyLCBjYXRlZ29yeUlkIDogYW55KSB7XHJcbiAgICB2YXIgdXJsID0gQVBJLlBST0pFQ1QgKyAnLycgKyBwcm9qZWN0SWQgKyAnLycgKyBBUEkuQlVJTERJTkcgKyAnLycgKyBidWlsZGluZ0lkICsgJy8nKyBBUEkuQ09TVEhFQUQgKycvJyArXHJcbiAgICAgIGNvc3RIZWFkSWQgKycvJyArIEFQSS5DQVRFR09SWSArICcvJyArIGNhdGVnb3J5SWQgKyAnLycgKyBBUEkuQUNUSVZFX1NUQVRVUyArICcvJyArIEFQSS5BQ1RJVkVfU1RBVFVTX0ZBTFNFO1xyXG4gICAgbGV0IGJvZHkgPSB7fTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgLy9BY3RpdmUgQ2F0ZWdvcnlcclxuICBhY3RpdmF0ZUNhdGVnb3J5KHByb2plY3RJZCA6IHN0cmluZywgYnVpbGRpbmdJZCA6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlciwgY2F0ZWdvcnlJZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9IEFQSS5QUk9KRUNUICsgJy8nICsgcHJvamVjdElkICsgJy8nICsgQVBJLkJVSUxESU5HICsgJy8nICsgYnVpbGRpbmdJZCArICcvJysgQVBJLkNPU1RIRUFEICsnLycgK1xyXG4gICAgICBjb3N0SGVhZElkICsnLycgKyBBUEkuQ0FURUdPUlkgKyAnLycgKyBjYXRlZ29yeUlkICsgJy8nICsgQVBJLkFDVElWRV9TVEFUVVMgKyAnLycgKyBBUEkuQUNUSVZFX1NUQVRVU19UUlVFO1xyXG4gICAgbGV0IGJvZHkgPSB7fTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLnB1dEFQSSh1cmwsIGJvZHkpO1xyXG4gIH1cclxuXHJcbiovXHJcblxyXG4gIC8vR2V0IEFsbCBXb3JrSXRlbXMgT2YgQ2F0ZWdvcnlcclxuICBnZXRBY3RpdmVXb3JrSXRlbXNPZkNhdGVnb3J5KGJhc2VVcmw6IHN0cmluZywgY29zdEhlYWRJZCA6IG51bWJlciwgY2F0ZWdvcnlJZCA6IG51bWJlcikge1xyXG4gICAgdmFyIHVybCA9IGJhc2VVcmwgKycvJysgQVBJLkNPU1RIRUFEKyAnLycgKyBjb3N0SGVhZElkICsgJy8nICsgQVBJLkNBVEVHT1JZICsgJy8nICsgY2F0ZWdvcnlJZCArICcvJyArIEFQSS5XT1JLSVRFTUxJU1Q7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLmdldEFQSSh1cmwpO1xyXG59XHJcblxyXG4gIGdldFJhdGVJdGVtc0J5T3JpZ2luYWxOYW1lKGJhc2VVcmw6IHN0cmluZywgb3JpZ2luYWxSYXRlSXRlbU5hbWU6c3RyaW5nKSB7XHJcbiAgICB2YXIgdXJsID0gYmFzZVVybCArJy8nKyBBUEkuUkFURVMrICcvJyArQVBJLlJBVEVfSVRFTSArICcvJysgb3JpZ2luYWxSYXRlSXRlbU5hbWU7XHJcbiAgICByZXR1cm4gdGhpcy5odHRwRGVsZWdhdGVTZXJ2aWNlLmdldEFQSSh1cmwpO1xyXG4gIH1cclxufVxyXG4iXX0=
