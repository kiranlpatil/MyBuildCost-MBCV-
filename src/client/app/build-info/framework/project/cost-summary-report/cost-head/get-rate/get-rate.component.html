<div *ngIf="rateItemsArray!==undefined" class="get-rate-section">
  <div class="pull-left">
    <div class="pull-left" *ngIf="rateItemsArray!==undefined">
      <div class="pull-left quantity-label">
          Quantity
      </div>
      <div class="pull-left">
        <input [(ngModel)]="rateItemsArray.quantity" id="rateQuantity" type="number" class="form-control quantity-count"
               (change)="onTotalQuantityChange(rateItemsArray.quantity)"
               (focus)="getPreviousQuantity(rateItemsArray.quantity)"/>
      </div>
      <div class="pull-left">
        <span class="quantity-sqft">
          {{ rateItemsArray.unit }}
        </span>
      </div>
    </div>
  </div>
  <div class="">
    <table class="">
        <thead>
        <th>Description</th>
        <th>Qty.</th>
        <th>Unit</th>
        <th>Rate/Unit</th>
        <th>Amount</th>
        <th>Total</th>
        </thead>
        <tbody>
        <tr *ngFor="let rateItem of rateItemsArray.item; let k = index">
          <td>
            <input [(ngModel)]="rateItem.item" id="itemdescription" class="form-control remark-input"/>
            <div class="remark-icon">
              <!--<input [(ngModel)]="quantityItem.remarks" id="remarks"  class="form-control" />-->
              <img title="{{rateItem.remarks}}" src="assets/build-info/dashboard/comment.png" width="16" height="16" />
            </div>
          </td>
          <td>
            <input [(ngModel)]="rateItem.quantity" id="itemunit" class="form-control text-right" (change)="changeQuantity(rateItem.quantity,k)"/>
          </td>
          <td>
            <input type="number" [(ngModel)]="rateItem.quantity" id="itemunit" class="form-control text-right" (change)="changeQuantity(rateItem.quantity,k)"/>
          </td>
          <td>
            <input [(ngModel)]="rateItem.rate" id="itemamount" class="form-control text-right" (change)="changeRate(rateItem.rate,k)"/>
          </td>
          <td>
            <input type="number" [(ngModel)]="rateItem.rate" id="itemamount" class="form-control get-total-amount text-right" (change)="changeRate(rateItem.rate,k)"/>
          </td>
          <td>
            <input type="number" [(ngModel)]="rateItem.quantity*rateItem.rate" id="totalAmount" class="form-control clear" readonly/>
          </td>
        </tr>

        <tr>
          <td class="total-amount text-left">
            <label>Total</label>
          </td>
          <td class="total-amount">
            {{totalQuantity|number}}
          </td>
          <td>
            &nbsp;
          </td>
          <td class="total-amount">
            {{totalRate|number}}
          </td>
          <td class="total-amount">
            {{totalAmount|number}}
          </td>
        </tr>

        </tbody>
      </table>
    <button type="button" class="save-btn" (click)="updateRate(rateItemsArray)">Save</button>
  </div>
</div>
