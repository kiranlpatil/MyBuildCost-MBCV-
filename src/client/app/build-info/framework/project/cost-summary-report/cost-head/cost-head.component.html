<section class="settings main-form-wrapper" style="margin-top: 120px">

  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"></div>

  <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
        <tr>
          <th colspan="5"><h4 align="center"> {{buildingName}} : {{costHead}}</h4></th>
        </tr>
        <tr>
          <th>Item</th>
          <th>Qty.</th>
          <th>Unit</th>
          <th>Rate</th>
          <th>Amount</th>
        </tr>
        </thead>
      </table>

      <table *ngFor="let costHead of costHeadDetails | keys; let i = index">
        <tbody>
        <tr>
          <td>{{costHeadDetails[costHead].name}}</td>
          <td>
            <input [(ngModel)]="costHeadDetails[costHead].quantity.total" id="quantity" class="form-control clear"/><br/>
            <button type="button" id="getQuantity{{i}}" class="btn btn-primary" (click)="getQuantity(i, costHeadDetails[costHead].quantity.item,costHeadDetails[costHead].name)">Get Quanity</button>
          </td>
          <td>{{costHeadDetails[costHead].unit}}</td>
          <td>
            <input [(ngModel)]="costHeadDetails[costHead].rate.total" id="rate" class="form-control clear"/><br/>
            <button type="button" id="getRate{{i}}" class="btn btn-primary accordion-toggle" data-toggle="collapse" data-target="#cores" (click)="getRate(i, costHeadDetails[costHead])">Get Rate</button>
          </td>
          <td>{{costHeadDetails[costHead].amount}} <span class="glyphicon glyphicon-trash"></span></td>
        </tr>


          <!--getQty Code-->
        <tr [ngStyle]="(toggleQty==true && compareIndex==i) ? {'display': 'table-row'}:{'display': 'none'}" style="display: none;">
          <td colspan="5">
            <table class="table ">
              <thead>
              <th>Item</th>
              <th>Nos.</th>
              <th>Length</th>
              <th>Breadth</th>
              <th>Height</th>
              <th>Qty.</th>
              <th>Unit</th>
              </thead>
              <tbody>
              <tr *ngFor="let quantityItem of quantityItemsArray">
                <td>
                  <input [(ngModel)]="quantityItem.item" id="costitem" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.nos" id="numbers" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.length" id="length" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.breadth" id="breadth" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.height" id="height" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.quantity" id="qty" class="form-control clear"/>
                </td>
                <td>
                  <input [(ngModel)]="quantityItem.unit" id="unit" class="form-control clear"/>
                </td>
                <td><span (click)="deleteItem(quantityItem.item)"  class="glyphicon glyphicon-trash"></span></td>
              </tr>

              <tr>
                <td>
                    <button type="button" class="btn btn-primary" (click)="addItem()">+ Add Item</button>
                <td>
                <td>
                    <button type="button" class="btn btn-primary" (click)="updateCostHeadWorkItem()">Save</button>
                </td>
              </tr>
              </tbody>
            </table>
            <!--<bi-cost-head-get-quantity [quantityItems]="costHeadDetails[costHead].quantity.item" ></bi-cost-head-get-quantity>-->
          </td>
        </tr>



          <!--getRate code-->
          <tr [ngStyle]="(toggleRate==true && compareIndex==i) ? {'display': 'table-row'}:{'display': 'none'}" style="display: none;">
            <td colspan="5">
              <table class="table">
                <thead>
                <th>Description</th>
                <th>Qty.</th>
                <th>Unit</th>
                <th>Rate/Unit</th>
                <th>Amount</th>
                </thead>
                <tbody>
                <tr *ngFor="let rateItem of rateItemsArray">
                  <td>
                    <input [(ngModel)]="rateItem.item" id="itemdescription" class="form-control clear"/>
                  </td>
                  <td>
                    <input [(ngModel)]="rateItem.remarks" id="itemquantity" class="form-control clear"/>
                  </td>
                  <td>
                    <input [(ngModel)]="rateItem.quantity" id="itemunit" class="form-control clear"/>
                  </td>
                  <td>
                    <input [(ngModel)]="rateItem.unit" id="itemrate" class="form-control clear"/>
                  </td>
                  <td>
                    <input [(ngModel)]="rateItem.rate" id="itemamount" class="form-control clear"/>
                  </td>
                  <td>
                    <input [(ngModel)]="rateItem.totalAmount" id="itemamount" class="form-control clear"/>
                  </td>
                </tr>

                <tr>
                  <td>
                    <label>Total</label>
                  </td>
                  <td>

                  </td>
                  <td>

                  </td>
                  <td>

                  </td>
                  <td>
                    534534
                  </td>
                </tr>

                <tr>
                  <td>

                  </td>
                  <td>

                  </td>
                  <td>

                  </td>
                  <td>

                  </td>
                  <td>
                    <button type="button" class="btn btn-primary">Save</button>
                  </td>
                </tr>

                </tbody>
              </table>
            </td>
          </tr>


        </tbody>
      </table>

      <table>
        <tfoot>
        <tr>
          <th colspan="4"><strong>Total</strong></th>
          <th><strong>54,134,476</strong></th>
        </tr>
        </tfoot>
      </table>



    </div>
  </div>

</section>

<tpl-footer></tpl-footer>
