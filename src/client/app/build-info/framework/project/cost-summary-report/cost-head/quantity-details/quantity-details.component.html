<div *ngIf="workItemData">
  <table class="table table-dashboard table-categories">
    <tbody>
      <tr *ngFor="let quantity of quantityDetails; let quantityIndex = index;">
        <td>
          <input  class="form-control clear quantity-name" type="text" [(ngModel)]="quantity.name"  (change)="changeQuantityName(quantity.name)">
        </td>

        <td>
          <div class="edit-field" *ngIf="quantity.total != 0" (click)="getQuantity(quantity, quantityIndex)">
            <input [ngModel]="quantity.total" id="quantity" size="10" class="form-control clear">
          </div>
          <button  *ngIf="quantity.total == 0" class="btn-get-amount" (click)="getQuantity(quantity, quantityIndex)">
            {{getLabel().GET_QUANTITY}}
          </button>
        </td>

        <td><span class="value">{{workItemData.unit}}</span></td>

        <td><span class="value">-</span></td>

        <td>
          <span class="value" *ngIf="workItemData.rate.isEstimated">
            {{ (quantity.total * workItemData.rate.total)|number: '1.0-0' }}
          </span>
          <div class="edit-cost-null" *ngIf="!workItemData.rate.isEstimated">
            <span class="value">-</span>
          </div>
        </td>

        <td><span class="value">-</span></td>


        <td>
          <div data-toggle="modal" title="Delete Quantity Details"
               data-target="#deleteQuantityDetails"
               (click)="setQuantityNameForDelete(quantity.name)" class="delete-Quantity-details">
            <img alt="Delete Quantity Details" src="assets/build-info/dashboard/delete-blue.png" />
          </div>
        </td>
        <div *ngIf="showQuantityTab == getLabel().WORKITEM_QUANTITY_TAB && quantityIndex === currentQuantityIndex">
          <td class="show-embedded-table">
            <div>
              <bi-get-quantity [quantityItems]="quantityItemsArray"
                               [quantityDetails]="quantityDetails"
                               [categoryRateAnalysisId]="categoryRateAnalysisId"
                               [categoryDetails] ="categoryDetails"
                               [keyQuantity]="keyQuantity"
                               [workItemsList] ="workItemsList"
                               (categoriesTotalAmount)="setCategoriesTotal($event)"
                               (closeQuantityView) = "closeQuantityView($event)"
                               [baseUrl] = "baseUrl">
              </bi-get-quantity>
            </div>
          </td>
        </div>

      </tr>

    </tbody>
  </table>
</div>

