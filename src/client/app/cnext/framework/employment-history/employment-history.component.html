<div class="section-container" [hidden]="chkEmployeeHistory">
  <div class="main-content modal-content clearfix" *ngIf="highlightedSection.name =='EmploymentHistory'">
    <h4 class="heading">Employment History
      <span class="close-dialog" [hidden]="isButtonShow">Close this section if not needed
        <span class="glyphicon glyphicon-remove" (click)="hideEmployeeHistory()"></span>
      </span>
    </h4>
    <form [formGroup]="employeeHistory" novalidate (ngSubmit)="save(employeeHistory)">
      <!--empHistories-->
      <div formArrayName="emplyeeHistories">
        <div *ngFor="let history of employeeHistory.controls.emplyeeHistories.controls; let i=index"
             class="panel panel-default">
          <div>
          <span class="glyphicon glyphicon-trash pull-right"
                *ngIf="employeeHistory.controls.emplyeeHistories.controls.length>0 && employeeHistory.controls.emplyeeHistories.controls.length !==1 "
                (click)="removeEmployeeHistory(i)"></span>
          </div>
          <div class="panel-body" [formGroupName]="i">
            <cn-employee-history [group]="employeeHistory.controls.emplyeeHistories.controls[i]"></cn-employee-history>
          </div>
        </div>
      </div>

      <div class="margin-20">
        <button (click)="addEmployeeHistory()" class="btn btn-create-profile" [disabled]="!employeeHistory.valid">
          Add another
        </button>
      </div>
      <div class="button-group clearfix">
        <button class="btn btn-default"  (click)="highlightedSection.name='none';highlightedSection.isDisable=false" [hidden]="showButton">Cancel</button>
        <button type="submit" class="btn btn-primary" scrollTo scrollTargetSelector="#academic-details"
                (click)="postData('next')" [disabled]="!employeeHistory.valid"  [hidden]="!showButton">Next
        </button>
        <button type="submit" class="btn btn-primary" (click)="postData('save')" [disabled]="!employeeHistory.valid"
                [hidden]="showButton">Save
        </button>
      </div>
      <div class="clearfix"></div>
    </form>
  </div>
</div>

<div class="section-container" [ngClass]="(highlightedSection.name=='AcademicDetails')?'full-width':'half-width'"  [hidden]="chkEmployeeHistory">
  <div class="main-content" *ngIf="highlightedSection.name !='EmploymentHistory'">
    <div class="compact-view clearfix">
      <button class="btn-edit" (click)="highlightedSection.name='EmploymentHistory';highlightedSection.isDisable=true;showButton=false" [hidden]="highlightedSection.isDisable"></button>
      <h4 class="heading">Employment History</h4>
      <ul>
        <div *ngFor="let item of candidate.employmentHistory">
          <li *ngIf="item.designation != '' && item.companyName != ''"><p>{{item.designation}} at
            {{item.companyName}} </p>
            <p>From {{item.from.month}} {{item.from.year}} to {{item.to.month}} {{item.to.year}}</p></li>
        </div>
      </ul>
    </div>
  </div>
</div>

