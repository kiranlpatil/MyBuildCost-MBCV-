<div class="clearfix container profile-wrapper recruiter-profile-wrapper">
  <div class="col-sm-12">
    <div class="wrapper wrapper-border job-poster">
      <cn-basic-job-information [highlightedSection]="highlightedSection" [jobPosterModel]="jobPosterModel"
                                (onComplete)="onBasicJobInformationComplete($event)"
                                [isRecruitingForSelf]="isRecruitingForSelf"></cn-basic-job-information>
    </div>
    <div class="wrapper" [hidden]="!isShowIndustryList">
      <cn-industry-list [selectedIndustry]="jobPosterModel.industry" [highlightedSection]="highlightedSection"
                        (valueChange)="selectIndustry($event)" [hidden]="!isShowIndustryList"></cn-industry-list>

      <cn-work-area [roles]="rolesForMain" [selectedRoles]="jobForRole" [highlightedSection]="highlightedSection" (onComplete)="selectRole($event)"
                    [hidden]="!isShowRoleList"></cn-work-area>
    </div>
      <cn-capabilities [roles]="rolesForCapability" [candidateRoles]="jobForCapability"
                       [highlightedSection]="highlightedSection"
                       (onComplete)="selectCapability($event)" [hidden]="!isShowCapability"></cn-capabilities>
    <div class="wrapper" [hidden]="!isShowComplexity">
      <!--<cn-complexities [roles]="rolesForComplexity" [complexities]="jobPosterModel.capability_matrix"
                       [highlightedSection]="highlightedSection"
                       [isComplexityPresent]="isComplexityPresent"
                       (onComplextyAnswered)="onComplextyAnswered($event)"
                       (onComplete)="selectRoleFromComplexity($event)" [hidden]="!isShowComplexity"></cn-complexities>-->
      <!--<cn-complexities [roles]="rolesForComplexity" [complexities]="jobPosterModel.capability_matrix"
                       [highlightedSection]="highlightedSection"

                       (onComplextyAnswered)="onComplextyAnswered($event)"
                       (onComplete)="selectRoleFromComplexity($event)" [hidden]="!isShowComplexity"></cn-complexities>-->
      <cn-complexities [roles]="rolesForComplexity" [complexities]="jobPosterModel.capability_matrix"
                       [highlightedSection]="highlightedSection"

                       (onComplextyAnswered)="onComplextyAnswered($event)" (onMustHave)="onMustHave($event)"
                       (onComplete)="selectRoleFromComplexity()" [hidden]="!isShowComplexity"
      [complexitiesIsMustHave]="jobPosterModel.complexity_musthave_matrix"></cn-complexities>
    </div>
    <div class="wrapper" [hidden]="!isShowProficiency">
      <!--TODO Abhijeet <cn-job-proficiencies [proficiencies]="proficiencies" [jobPosterModel]="jobPosterModel"
                            [highlightedSection]="highlightedSection"
                            (onComplete)="selectProficiency($event)" (onNextComplete)="onProficiencyComplete($event)"
                            [hidden]="!isShowProficiency">
      </cn-job-proficiencies>-->
      <cn-job-proficiencies [proficiencies]="proficiencies" [jobPosterModel]="jobPosterModel"
                            [highlightedSection]="highlightedSection"
                            (onComplete)="selectProficiency($event)" (onNextComplete)="onProficiencyComplete()"
                            [hidden]="!isShowProficiency">
      </cn-job-proficiencies>

      <cn-industry-experience [candidateExperiencedIndustry]="jobPosterModel.interestedIndustries"
                              [choosedIndustry]="jobPosterModel.industry.name"
                              [highlightedSection]="highlightedSection"
                              (onComplete)="selectExperiencedIndustry($event)"
                              [hidden]="!showIndustryExposure" (onNextComplete)="onIndustryExposureComplete($event)"
                              *ngIf="jobPosterModel != undefined && jobPosterModel.industry != undefined"></cn-industry-experience>
    </div>
    <div class="wrapper">
      <cn-relevent-industry-list [slectedReleventIndustry]="jobPosterModel.releventIndustries" [roles]="jobForRole"
                                 [industry]="jobPosterModel.industry" [highlightedSection]="highlightedSection"
                                 [hidden]="!showReleventIndustryList"
                                 (onNextComplete)="onReleventIndustryComplete($event)"
                                 (checkReleventIndustries)="checkReleventIndustries($event)"></cn-relevent-industry-list>

    </div>
    <div class="wrapper">
      <cn-compentacies-and-responsibilities [isShowReleventIndustryListStep]="isShowReleventIndustryListStep" [jobPosterModel]="jobPosterModel" [highlightedSection]="highlightedSection"
                                            (onComplete)="onCompentansiesandResponsibilitycomplete($event)"
                                            [hidden]="!showCompentensies"></cn-compentacies-and-responsibilities>
    </div>
    <div class="button-group text-right" [hidden]="!isShowProficiency" *ngIf="role==='recruiter'">
      <!--<button type="submit" class="btn btn-success" (click)="mockupSearch()" >Mock Search</button>-->
      <!--[disabled]="disableButton"-->
      <!--
            <button type="submit" class="btn btn-success">Save Job</button>
      -->
      <cn-job-clone [selectedJobId]="selectedJobId"  [selectedJobTitle]="selectedJobTitle"
                    [isCloneButtonClicked]="isCloneButtonClicked"  (raiseJobEditViewEventEmitter)="onJobCloned($event)" ></cn-job-clone>

      <button type="submit" class="btn btn-primary btn-post-job" (click)="showHideModal()">Post Job</button>
      <div class="dropup clone-job-menu">
        <button class="btn btn-default dropdown-toggle btn-menu" type="button" data-toggle="dropdown"><span
                class="glyphicon glyphicon-option-horizontal"></span></button>
        <ul class="dropdown-menu">
          <!--<li (click)="raiseCloneEvent(item)"><a>{{getLabel().CLONE_JOB}}</a></li>-->
          <li><a>{{getLabel().CLONE_JOB}}</a></li>
          <li><a disabled>{{getLabel().CLOSE_JOB}}</a></li>
        </ul>
      </div>
    </div>
    <div class="button-group text-right" [hidden]="!isShowProficiency" *ngIf="role==='hiringManger'">
      <button type="submit" class="btn btn-primary btn-post-job" (click)="sendMailToRecruiter()" >Done</button>
    </div>

  </div>
  <div class="dropup ask-expert" *ngIf="role==='recruiter' && jobId !== undefined && jobId !==''">

    <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" type="button" (click)="buildJobShareUrl()" >
      <span class="label">{{getLabel().ASK_EXPERT}}</span>
    </button>
    <a id="mail_link" href="mailto:example@domain.com?subject={{getLabel().CLOSE_JOB}}&body={{jobPosterModel.sharedLink}}" hidden></a>
    <ul class="dropdown-menu ask-expert-dropdown">
      <li>
          <button type="button" class="close" data-toggle="dropdown" >&times;</button>
          <h4>{{getHeading().ASK_EXPERT}}</h4>
          <p>{{getMessage().ASK_EXPERT_MESSAGE}}
          </p>
          <div class="form-group">
            <input class="form-control" type="text" [value]="jobPosterModel.sharedLink" readonly/>
          </div>
      </li>
    </ul>
  </div>
</div>


<div class="modal" [style.display]="getStyleModal()">
  <div class="modal-bg">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <!--<button type="button" class="close" (click)="onCancel()">-->
          <button type="button" class="close">
            <span>&times;</span>
          </button>
          <h5 class="modal-title">{{getHeading().POST_JOB}}</h5>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-12">
              <p>{{jobPostMessage}}</p>
              <div class="button-group">
                <button class="btn btn-success" (click)="postjob()">Yes</button>
                <button class="btn btn-default" (click)="closeJob()">Cancel</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
