<div class="section-container clear clearfix" *ngIf="highlightedSection.name=='Capabilities'">
  <cn-tool-tip [message]="tooltipCandidateMessage" *ngIf="isCandidate"></cn-tool-tip>
  <cn-tool-tip [message]="tooltipRecruiterMessage" *ngIf="!isCandidate"></cn-tool-tip>
  <div class="main-content clearfix modal-content">
    <h4 class="heading"><span class="light-font">Choose </span> Capabilities <span class="light-font"> for</span> Area Of Work <span class="light-font">selected above</span></h4>

    <div class="clearfix">
      <div class="capabilities col-sm-12">
            <div class="capability-type panel-group"  id="accordion" >
              <div class="panel panel-default capability-option"  *ngFor="let role of roles;let i = index">
                <div class="panel-heading" (click)="role.isOpen?role.isOpen=false:role.isOpen=true" >
                  <h4 class="panel-title sub-areas">
                      <a data-toggle="collapse" data-parent="#accordion" href="#collapse{{i}}" aria-expanded="false">
                        <span *ngIf="!role.isOpen" class="glyphicon glyphicon-plus"></span>
                        <span *ngIf="role.isOpen" class="glyphicon glyphicon-minus"></span>
                        {{role.name}}
                      </a>
                  </h4>
                </div>
                <div id="collapse{{i}}" class="panel-collapse collapse" >
                  <div class="panel-body">
                    <div class="select-option"
                         *ngFor="let item of role.capabilities;let i = index"
                         [class.primary]="item.isPrimary || primaryNames.indexOf(item.name)!=-1"
                         [class.secondary]="item.isSecondary || secondaryNames.indexOf(item.name)!=-1">
                      <label>
                        <input type="checkbox" name="checkbox" (click)="selectedCapability(role,item,$event)" id="{{item.name}}"
                               value="{{item.name}}"
                               [checked]="secondaryNames.indexOf(item.name)!=-1||primaryNames.indexOf(item.name)!=-1">
                        <span>{{item.name}}</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        <div class="button-group clearfix">
          <button class="btn btn-primary" scrollTo scrollTargetSelector="#complexity-area"
                  (click)="onNext()" [disabled]="!(primaryNames.length>0)">Next
          </button>

        </div>
      </div>
    </div>
  </div>
</div>

<div class="section-container"
     [ngClass]="(highlightedSection.name=='Work-Area' || highlightedSection.name=='Profile')?'full-width':'half-width'"
     *ngIf="highlightedSection.name!='Capabilities'">
  <div class="main-content">
    <div class="compact-view clearfix">
      <h4 class="heading">Capabilities
        <button class="btn-edit" (click)="highlightedSection.name='Capabilities';highlightedSection.isDisable=true"
                [hidden]="highlightedSection.isDisable"></button>
      </h4>

      <span class="option" *ngFor="let item of primaryNames;let i = index">
        <span>
          {{item}}&nbsp;<span *ngIf="primaryNames.length>1 && i!=primaryNames.length -1">,</span>&nbsp;
        </span>
      </span>
      <div *ngIf="secondaryNames != undefined && secondaryNames.length>0">
      <span class="option" *ngFor="let item of secondaryNames;let j = index">
        <span>
          {{item}}&nbsp;<span *ngIf="secondaryNames.length>1 && j != secondaryNames.length -1">,</span>&nbsp;
        </span>
      </span>
      </div>
    </div>
    <!-- <div [class.modal-bg]="highlightedSection.name!='Capabilities'"></div>-->
  </div>
</div>
<div class="clearfix divider clear"></div>
