  <div class="section-container clearfix" *ngIf="highlightedSection.name=='Complexities'">
    <cn-tool-tip [message]="tooltipMessage"></cn-tool-tip>
    <div class="main-content clearfix modal-content">
      <div class="complexities">
        <h4 class="heading">Choose Complexities for the above Capabilities <span class="pull-right">{{count}} / {{scenarioNames.length}} selected </span></h4>
        <div class="col-sm-12">
          <p class="info">
            This section provides a list of complexity scenarios for your selected capabilities.
            For each scenario, select the most appropriate level of complexity that you are capable of handling.
            If you have not handled a particular complexity, choose not applicable.
          </p>
          <div  *ngIf="!(candidateRoles && candidateRoles[0] && candidateRoles[0].default_complexities  && candidateRoles[0].default_complexities[0] && candidateRoles[0].default_complexities[0].complexities && candidateRoles[0].default_complexities[0].complexities.length > 0)">
          <div *ngFor="let role of roles">
            <div *ngIf="role.default_complexities!=undefined">
            <div *ngFor="let complexity of role.default_complexities[0].complexities">
                <div class="select-complexity clearfix">
                  <div class="complexity-name col-sm-2 no-padding">
                    <p>{{complexity.name}}</p>
                  </div>
                  <div class="scenarios col-sm-10 padding-left15">
                    <div class="select-option" *ngFor="let scenario of complexity.scenarios">
                      <label>
                        <input type="radio" name="{{complexity.name}}" value="{{scenario.name}}"
                               (change)="selectDefaultComplexity(role,complexity,scenario,$event)"
                               [checked]="scenario.isChecked" >
                        <span>{{scenario.name}}</span>
                      </label>
                    </div>
                  </div>
                </div>
            </div>
            </div>
          </div>
          </div>
          <div class="complexity-container" *ngIf="(candidateRoles && candidateRoles[0] && candidateRoles[0].capabilities && candidateRoles[0].capabilities[0] && candidateRoles[0].capabilities[0].complexities && candidateRoles[0].capabilities[0].complexities.length > 0)">
            <div *ngFor="let role of candidateRoles">
              <div *ngFor="let capability of role.capabilities">
                <div class="select-complexity clearfix" *ngFor="let complexity of capability.complexities">
                  <div class="complexity-name col-sm-2 no-padding">
                    <p id="complexity1">{{complexity.name}}</p>
                  </div>
                  <div class="scenarios col-sm-10 padding-left15">
                    <div class="select-option" *ngFor="let scenario of complexity.scenarios">
                      <label>
                        <input class="selected-complexity" type="radio" name="{{complexity.name}}" value="{{scenario.name}}"
                               (change)="selectComplexity(role,capability,complexity,scenario,$event)"
                               [checked]="scenario.isChecked">
                        <span>{{scenario.name}}</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="complexity-container" *ngIf="(candidateRoles && candidateRoles[0] && candidateRoles[0].default_complexities  && candidateRoles[0].default_complexities[0] && candidateRoles[0].default_complexities[0].complexities && candidateRoles[0].default_complexities[0].complexities.length > 0)">
            <div *ngFor="let role of candidateRoles">
              <div *ngIf="role.default_complexities!=undefined || role.default_complexities[0]!=undefined">
              <div *ngFor="let complexity of role.default_complexities[0].complexities">
                <div class="select-complexity clearfix">
                  <div class="complexity-name col-sm-2 no-padding">
                    <p >{{complexity.name}}</p>
                  </div>
                  <div class="scenarios col-sm-10 padding-left15">
                    <div class="select-option" *ngFor="let scenario of complexity.scenarios">
                      <label>
                        <input class="selected-complexity" type="radio" name="{{complexity.name}}" value="{{scenario.name}}"
                               (change)="selectDefaultComplexity(role,complexity,scenario,$event)"
                               [checked]="scenario.isChecked">
                        <span>{{scenario.name}}</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              </div>
            </div>
          </div>




          <div *ngIf="!(candidateRoles && candidateRoles[0] && candidateRoles[0].capabilities && candidateRoles[0].capabilities[0] && candidateRoles[0].capabilities[0].complexities && candidateRoles[0].capabilities[0].complexities.length > 0)">
            <div *ngFor="let role of roles">
              <div *ngFor="let capability of role.capabilities">
                <div class="select-complexity clearfix" *ngFor="let complexity of capability.complexities">
                  <div class="complexity-name col-sm-2 no-padding">
                    <p id="complexity">{{complexity.name}}</p>
                  </div>
                  <div class="scenarios col-sm-10 padding-left15">
                    <div class="select-option" *ngFor="let scenario of complexity.scenarios">
                      <label>
                        <input type="radio" name="{{complexity.name}}" value="{{scenario.name}}"
                               (change)="selectComplexity(role,capability,complexity,scenario,$event)"
                               [checked]="scenario.isChecked">
                        <span>{{scenario.name}}</span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="button-group clearfix">
            <div *ngIf="isCandidate">
              <button class="btn btn-primary"  (click)="showHideModal()">Next
              </button>
            </div>
            <div *ngIf="!isCandidate">
              <button class="btn btn-primary" (click)="saveComplexity()">Next
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
<div class="section-container clearfix" *ngIf="highlightedSection.name!='Complexities'">
  <div class="main-content">
    <div class="compact-view clearfix">
      <a data-toggle="collapse" data-target="#demo" (click)="showMore = !showMore" >
        <h4 class="heading">Complexities handled for the above Capabilities
          <button class="btn-edit" (click)="highlightedSection.name='Complexities';highlightedSection.isDisable=true" [hidden]="highlightedSection.isDisable"></button>
        </h4>
        <span class="see-more" *ngIf="!showMore">more...</span>
        <span class="see-more" *ngIf="showMore">less...</span>
      </a>
      <div id="demo" class="collapse col-sm-12">
        <cn-tabular-list-view [roles]="candidateRoles"></cn-tabular-list-view>
      </div>
    </div>
  </div>
</div>
<!--<div [class.modal-bg]="highlightedSection.name!='Complexities'"></div>-->

<div class="modal popup" [style.display]="getStyleModal()">
  <div class="modal-bg">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-12">
<!--
              <p>Saving above details. Once saved, you can not change it for 3 months.</p>
-->
              <p>Do you want to save these Details ?</p>

              <div class="button-group">
                <form>
                <input type="submit" #save class="btn btn-primary" ref-searchInput (click)="saveComplexity()" value="Save" />
                <!--<button class="btn btn-primary" scrollTo scrollTargetSelector="#proficiency-area"
                        (click)="saveComplexity()">Save </button>-->
                <button class="btn btn-default" (click)="showHideModal()">Cancel</button>
                  </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
