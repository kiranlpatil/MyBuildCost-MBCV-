<div class="modal-bg" *ngIf="highlightedSection.name=='Complexities'"></div>
<div class="section-container clearfix" *ngIf="highlightedSection.name=='Complexities'">
  <div class="main-content clearfix edit-modal-content">
    <div class="complexities col-sm-9 no-padding">
      <h4 class="heading" *ngIf="isCandidate && currentComplexityDetails">Tell us about your experience in
        {{currentComplexityDetails.capability_name}}</h4>
      <h4 class="heading" *ngIf="!isCandidate && currentCapability">Tell us about your experience in
        {{currentCapability.name}}
      </h4>
      <div class="error-messages" *ngIf="!isValid"><p>You can't leave this empty.</p></div>
      <div class="complexity-container scrollable-content" *ngIf="isCandidate">
        <cn-question-answer [complexityDetails]="currentComplexityDetails" [slideQuestionToLeft]="slideToLeft"
                            [slideQuestionToRight]="slideToRight"
                            (onComplete)="onAnswered($event)"></cn-question-answer>
      </div>
      <p>{{isCandidate}}</p>
      <div class="complexity-container scrollable-content" *ngIf="!isCandidate">
        <cn-multiple-question-answer [capabilityDetails]="currentCapability" [slideQuestionToLeft]="slideToLeft"
                                     [slideQuestionToRight]="slideToRight" (onComplete)="onCapabilityAnswered($event)"
                                     (onQuestionComplete)="oncurrentComplexityAnswered($event)"></cn-multiple-question-answer>
      </div>
    </div>
    <div class="col-sm-3 no-padding">
      <cn-tool-tip [message]="tooltipCandidateMessage" *ngIf="isCandidate"></cn-tool-tip>
      <cn-tool-tip [message]="tooltipRecruiterMessage" *ngIf="!isCandidate"></cn-tool-tip>
    </div>
    <div class="button-group clearfix clear">
      <!--<div class="saving-loader">Saving...</div>-->
      <button class="btn btn-primary" (click)="onNext()" [disabled]="currentComplexity===complexityIds.length"
              *ngIf="isCandidate">Next
      </button>
      <button class="btn btn-primary" (click)="onNext()" [disabled]="currentComplexity===complexityIds.length"
              *ngIf="!isCandidate">Next
      </button>
    </div>
    <span class="question-count">{{currentComplexity+1}} of {{complexityIds.length}}</span>
    <!--
        <span  class="question-count"> {{currentComplexityDetails.complexity_number}}</span><span *ngIf="currentComplexityDetails.total_complexity_in_capability"> of {{currentComplexityDetails.total_complexity_in_capability}}</span>
    -->
    <button class="btn-prev" (click)="onPrevious()"><span class="glyphicon glyphicon-chevron-left"
                                                          *ngIf="isCandidate"></span></button>
    <button class="btn-prev" (click)="onPreviousCapability()"><span class="glyphicon glyphicon-chevron-left"
                                                                    *ngIf="!isCandidate"></span></button>
  </div>
</div>
<div class="section-container " *ngIf="highlightedSection.name!='Complexities'">
  <div class="main-content clearfix">
    <div class="compact-view">
      <a data-toggle="collapse" data-target="#demo">
        <h4 class="heading-compact">Capabilities
          <span class="add-more" (click)="highlightedSection.name='Capabilities'"><span class="glyphicon glyphicon-plus-sign"></span>Add More</span>
          <button class="btn-edit" (click)="edit()"
                  [hidden]="highlightedSection.isDisable" title="Edit Complexities"></button>
        </h4>
      </a>
      <div id="demo" class="collapse">
        <div class="col-sm-12 no-padding" (click)="edit()">
          <cn-capability-compare id="complexity-compact-view" [isCompact]="true" [rowsToShow]="5" [capabilities]="capabilities"></cn-capability-compare>
        </div>
        <!--<div class="see-more" *ngIf="!showMore">
          <p>Show more</p>
          <span class="glyphicon glyphicon-chevron-down"></span>
        </div>
        <div class="see-more" *ngIf="showMore">
          <span class="glyphicon glyphicon-chevron-up"></span>
          <p>Show less</p>
        </div>-->
      </div>
    </div>
  </div>
</div>
<!--<div [class.modal-bg]="highlightedSection.name!='Complexities'"></div>-->

<div class="modal popup" [style.display]="getStyleModal()">
  <div class="modal-bg">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-body">
          <div class="row">
            <div class="col-sm-12">
              <p>Do you want to save these Details ?</p>
              <div class="button-group">
                <form>
                  <input type="submit" #save class="btn btn-success" ref-searchInput (click)="saveComplexity()"
                         value="Save"/>
                  <button class="btn btn-default" (click)="showHideModal()">Cancel</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
