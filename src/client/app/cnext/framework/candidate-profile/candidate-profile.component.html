<div *ngIf="highlightedSection.name=='GuideTour'">
  <cn-guided-tour (onSkip)="onSkip($event)"></cn-guided-tour>
</div>

<div class="create-profile clearfix" [hidden]="highlightedSection.name=='GuideTour' || highlightedSection.name==''">
  <cn-candidate-header [candidate]="candidate" *ngIf="candidate != undefined"></cn-candidate-header>
  <div class="bar-container profile-header" [class.fixed-bar-container]="navIsFixed">
    <ul class="bar container" id="bar">
      <li [class.active]="whichStepsVisible[0] || candidate.isSubmitted" [class.current]="highlightedSection.name=='Profile'
      || highlightedSection.name=='Industry'" ><p>About Me</p>
      </li>
      <li [class.active]="whichStepsVisible[1] || candidate.isSubmitted " [class.current]="highlightedSection.name=='Work-Area'"><p>Area of
        Work</p></li>
      <li [class.active]="whichStepsVisible[2] || candidate.isSubmitted " [class.current]="highlightedSection.name=='Capabilities' || highlightedSection.name=='Complexities' "><p>
        Capabilities</p></li>
      <!--<li [class.active]="whichStepsVisible[3]" [class.current]="highlightedSection.name=='Complexities'"><p>
        Complexities</p></li>-->
      <li [class.active]="whichStepsVisible[4] || candidate.isSubmitted "
          [class.current]="highlightedSection.name=='Proficiencies' || highlightedSection.name=='IndustryExposure'"><p>
        My Skills</p></li>
      <!--<li [class.active]="whichStepsVisible[5]" [class.current]="highlightedSection.name=='Professional-Details'"><p>
        Professional Data</p></li>-->
      <li [class.active]="whichStepsVisible[6]"
          [class.current]="highlightedSection.name=='Professional-Details' ||
          highlightedSection.name=='AboutMySelf' ||
          highlightedSection.name=='AcademicDetails' ||
          highlightedSection.name=='Awards' ||
          highlightedSection.name=='EmploymentHistory' ||
          highlightedSection.name=='Certification'">
        <p>More About Me</p></li>
    </ul>
  </div>


  <div class="profile-wrapper candidate-profile-wrapper container">
    <div class="col-sm-12 no-padding">
      <div class="wrapper">

       <!--TODO Abhijeet <cn-profile-description [candidate]="candidate" [highlightedSection]="highlightedSection"
                                (onComplete)="onProfileDescriptionComplete($event)"></cn-profile-description>-->
        <cn-profile-description [candidate]="candidate" [highlightedSection]="highlightedSection"
                                (onComplete)="onProfileDescriptionComplete()"></cn-profile-description>
      </div>
      <div class="wrapper">
        <cn-industry-list [selectedIndustry]="candidate.industry" [highlightedSection]="highlightedSection"
                          (valueChange)="onIndustryChange($event)" [hidden]="isIndustryShow"></cn-industry-list>

        <cn-work-area [roles]="rolesForMain" [selectedRoles]="candidateForRole"
                      [highlightedSection]="highlightedSection"
                      (onComplete)="onWorkAreaComplete($event)" (others)="onOthers($event)" [hidden]="isRolesShow"></cn-work-area>

      </div>

      <cn-capabilities [roles]="rolesForCapability" [candidateRoles]="candidateForCapability"
                       [highlightedSection]="highlightedSection"
                       (onComplete)="onCapabilityComplete($event)" [hidden]="!showCapability"></cn-capabilities>

      <div class="wrapper">
        <cn-complexities [roles]="rolesForComplexity" [complexities]="candidate.capability_matrix"
                         [highlightedSection]="highlightedSection"
                         [isComplexityPresent]="isComplexityPresent" [complexityNotes]="candidate.complexity_note_matrix"
                         (onComplextyAnswered)="onComplextyAnswered($event)"
                         (onComplete)="onComplexityComplete($event)" [hidden]="!showComplexity"></cn-complexities>
      </div>
      <div class="wrapper">
        <cn-proficiencies [choosedproficiencies]="candidate.proficiencies"
                          [highlightedSection]="highlightedSection"
                          (onSelect)="onProficiencySelect($event)" (onComplete)="onProficiencyComplete($event)"
                          [hidden]="!showProficiency" [isOthers]="isOthers"></cn-proficiencies>

        <cn-industry-experience [candidateExperiencedIndustry]="candidate.interestedIndustries"
                                [choosedIndustry]="candidate.industry.name"
                                [highlightedSection]="highlightedSection"
                                (onComplete)="onExperienceIndustrySelect($event)"
                                (onNextComplete)="onExperienceIndustryComplete($event)"
                                [hidden]="!showIndustryExperience"
                                *ngIf="candidate != undefined || candidate.industry !=undefined"></cn-industry-experience>

      </div>
      <div class="wrapper">
        <!--TODO Abhijeet <cn-professional-data [candidate]="candidate" [highlightedSection]="highlightedSection"
                              (onComplete)="onProfessionalDataComplete($event)"
                              [hidden]="!showProfessionalData"></cn-professional-data>-->
        <cn-professional-data [candidate]="candidate" [highlightedSection]="highlightedSection"
                              (onComplete)="onProfessionalDataComplete()"
                              [hidden]="!showProfessionalData"></cn-professional-data>
      </div>
      <div class="wrapper clearfix">
        <cn-more-about-myself [candidate]="candidate" [highlightedSection]="highlightedSection"
                              (onComplete)="onMoreAboutMySelfComplete($event)"
                              [hidden]="!showAboutMySelf"></cn-more-about-myself>

        <!--TODO Abhijeet <cn-employment-history [candidate]="candidate" [highlightedSection]="highlightedSection"
                               (onComplete)="onEmploymentHistoryComplete($event)"
                               [hidden]="!showEmploymentHistory"></cn-employment-history>-->
        <cn-employment-history [candidate]="candidate" [highlightedSection]="highlightedSection"
                               (onComplete)="onEmploymentHistoryComplete()"
                               [hidden]="!showEmploymentHistory"></cn-employment-history>

        <!--TODO Abhijeet <cn-academic-details [candidate]="candidate" [highlightedSection]="highlightedSection"
                             (onComplete)="onAcademicDetailsComplete($event)"
                             [hidden]="!showEmploymentHistory"></cn-academic-details>-->
        <cn-academic-details [candidate]="candidate" [highlightedSection]="highlightedSection"
                             (onComplete)="onAcademicDetailsComplete()"
                             [hidden]="!showEmploymentHistory"></cn-academic-details>

        <!--TODO Abhijeet <cn-certification-accreditation [candidate]="candidate" [highlightedSection]="highlightedSection"
                                        (onComplete)="onCertificationsComplete($event)"
                                        [hidden]="!showCertificationDetails"></cn-certification-accreditation>-->
        <cn-certification-accreditation [candidate]="candidate" [highlightedSection]="highlightedSection"
                                        (onComplete)="onCertificationsComplete()"
                                        [hidden]="!showCertificationDetails"></cn-certification-accreditation>

        <!--TODO Abhijeet <cn-awards [candidate]="candidate" [highlightedSection]="highlightedSection"
                   (onComplete)="onAwardsComplete($event)"
                   [hidden]="!showAwards"></cn-awards>-->
        <cn-awards [candidate]="candidate" [highlightedSection]="highlightedSection"
                   (onComplete)="onAwardsComplete()"
                   [hidden]="!showAwards"></cn-awards>

      </div>
      <div class="wrapper profile-visibility-wrapper">
        <div class="section-container clear" [hidden]="!showAboutMySelf">
          <div class="main-content clearfix">
            <div class="compact-view clearfix profile-visibility">
              <h4 class="heading-compact">{{getLabel().PROFILE_VISIBILITY}}</h4>
              <div class="info profile-info" *ngIf="candidate.isVisible">{{visiblitySetToYesMessage}}</div>
              <div class="info profile-info" *ngIf="!candidate.isVisible">{{visiblitySetToNoMessage}}</div>
              <div class="toggle-switch-container">
                <span class="switch-label" *ngIf="candidate.isVisible == true">Yes</span>
                <span class="switch-label" *ngIf="candidate.isVisible == false">No</span>
                <div class="toggle-switch">
                  <label class="switch">
                    <input type="checkbox" name="profile-visibility"
                           (change)="showOrHide('show',$event)" value="candidate.isVisible"
                           [checked]="candidate.isVisible">
                    <span class="slider round"></span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="profile-configurations" [hidden]="!showAboutMySelf" >
        <div class="text-right">
          <div class="button-group submit-view-profile-btn" *ngIf="!candidate.isSubmitted">
            <button class="btn btn-success" tabindex="1" data-toggle="modal" data-target="#note-modal">{{getButton().SUBMIT_PROFILE}}</button>
          </div>
          <div class="button-group" *ngIf="candidate.isSubmitted">

          </div>

          <div id="note-modal" class="modal fade note-modal" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h5 class="modal-title">{{getLabel().NOTE_OF_TRUST}}</h5>
                </div>
                <div class="modal-body">
                  <p>
                    {{getMessages().NOTE_OF_TRUST}}
                  </p>

                  <div class="button-group">
                    <button type="button" class="btn btn-primary" (click)="showHideModal()" data-dismiss="modal">
                      {{getButton().PROCEED}}
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{getButton().CANCEL_BUTTON}}</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="right-fit-modal" class="modal fade note-modal" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h5 class="modal-title">{{getLabel().PROFILE_VISIBILITY}}</h5>
                </div>
                <div class="modal-body">
                  <div class="clearfix profile-visibility">
                    <div class="toggle-switch-container">
                      <span class="switch-label" *ngIf="candidate.isVisible == true">Yes</span>
                      <span class="switch-label" *ngIf="candidate.isVisible == false">No</span>
                      <div class="toggle-switch">
                        <label class="switch">
                          <input type="checkbox" name="profile-visibility"
                                 (change)="showOrHide('show',$event)" value="candidate.isVisible"
                                 [checked]="candidate.isVisible">
                          <span class="slider round"></span>
                        </label>
                      </div>
                    </div>
                    <div class="info profile-info" *ngIf="candidate.isVisible">{{visiblitySetToYesMessage}}</div>
                    <div class="info profile-info" *ngIf="!candidate.isVisible">{{visiblitySetToNoMessage}}</div>
                  </div>
                  <p>
                    <span>{{getLabel().NOTE_OF_TRUST}}</span>
                    {{getMessages().NOTE_OF_TRUST}}
                  </p>
                  <div class="button-group">
                    <button type="button" class="btn btn-primary" (click)="showHideModal()" data-dismiss="modal">
                      {{getButton().PROCEED}}
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{getButton().CANCEL_BUTTON}}</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <tpl-footer></tpl-footer>
</div>
