<cn-recruiter-header [jobCount]="jobCount" [companyName]="companyName"></cn-recruiter-header>
<div class="container-fluid recruiter-profile-wrapper">
  <div>
    <ul class="nav nav-tabs dashboard-tabs">
      <li class="active"><a data-toggle="tab" href="#posted-job">My Job Posts</a></li>
      <li><a data-toggle="tab" href="#post-new-job">Post New Job / Search</a></li>
    </ul>
    <div class="tab-content">
      <div id="posted-job" class="tab-pane fade active in clearfix">
        <div [hidden]="isJobSelected">
          <cn-job-lister [jobListInput]="jobList" (jobEventEmitter)="jobSelected($event)"></cn-job-lister>
        </div>
        <div class="candidate-listing" [hidden]="!isJobSelected" >
          <cn-job-filter [selectedJob]="selectedJobProfile"></cn-job-filter>
          <div class="col-sm-12 no-padding">
            <button class="btn btn-back" (click)="showAllJobs()">All Jobs</button>
            <div class="list-view"  *ngIf="selectedJobProfile!=undefined">
              <div class="panel clearfix">
                <ul>
                  <li class="job-posted"><p><span>{{this.selectedJobProfile.numberOfCandidatesInList.cart}}</span></p></li>
                  <li><h4>{{selectedJobProfile.jobTitle}}</h4><p>{{selectedJobProfile.department}}</p></li>
                  <li class="contact-info">
                    <p><img src="../../../../assets/c-next/post-job/calendar.png" alt="calendar"/>{{selectedJobProfile.postingDate | date:'mediumDate'}}</p>
                  </li>
                  <li class="contact-info">
                    <p><img src="../../../../assets/c-next/post-job/contact-person.png" alt="Hiring Manager"/>{{selectedJobProfile.hiringManager}}</p>
                  </li>
                </ul>
              </div>
            </div>
            <ul class="nav nav-tabs sub-tabs">
              <li class="active">
                <a (click)="showMatchedCandidate()"  id="matched_anchor" data-toggle="tab" href="#matched"><span class="count"><span>{{this.selectedJobProfile.numberOfCandidatesInList.matched}}</span></span> Matched</a>
              </li>
              <li>
                <a (click)="showShortlistedCandidate()" data-toggle="tab" href="#shortlisted"><span class="count"><span>{{this.selectedJobProfile.numberOfCandidatesInList.shortlist}}</span></span> Shortlisted</a>
              </li>
              <li>
                <a (click)="candidateInCart()" data-toggle="tab" href="#cart"><span class="count"><span>{{this.selectedJobProfile.numberOfCandidatesInList.cart}}</span></span> In Cart</a>
              </li>
              <li>
                <a (click)="appliedCandidates()" data-toggle="tab" href="#applied"><span class="count"><span>{{this.selectedJobProfile.numberOfCandidatesInList.applied}}</span></span> Applied</a>
              </li>
              <li>
                <a (click)="rejectedCandidates()" data-toggle="tab" href="#rejected"><span class="count"><span>{{selectedJobProfile.numberOfCandidatesInList.rejected}}</span></span> Rejected</a>
              </li>
            </ul>
            <div class="tab-content">
              <div id="matched" class="tab-pane fade in active " [hidden]="showQCard">
                <cn-q-card-view (updatedIds)="updateIds($event)" (latestSearchResultCount)="latestSearchResultCount($event)" [addToSerchIds]="newcandidates" [jobPosterModel]="selectedJobProfile"  [recruiterId]="recruiter._id"></cn-q-card-view>
              </div>
              <div  id="shortlisted" class="tab-pane fade"  [hidden]="!showQCard">
                <cn-recruiter-dashboard-qcard-view (addappliedToCartIds)="appliedToCartIds($event)" (addShortListedToCartIds)="shortlistToCartIds($event)" [showButton]="buttonModel" (removeIDs)="removeFromIds($event)" (removeRejectedIDs)="removeFromRejectedList($event)" (currentrejected)="rejectedIds($event)" [listName]="shortList" [jobPosterModel]="selectedJobProfile" [candidates]="candidatesshortlisted"  [recruiterId]="recruiter._id" ></cn-recruiter-dashboard-qcard-view><!--[candidates]="candidates"-->
              </div>
              <div  id="cart" class="tab-pane fade"  [hidden]="!showQCard">
                <cn-recruiter-dashboard-qcard-view (addappliedToCartIds)="appliedToCartIds($event)"  (addShortListedToCartIds)="shortlistToCartIds($event)" [showButton]="buttonModel" (removeIDs)="removeFromIds($event)"  (removeRejectedIDs)="removeFromRejectedList($event)" (currentrejected)="rejectedIds($event)" [listName]="cartList" [jobPosterModel]="selectedJobProfile"  [candidates]="candidatesInCart" [recruiterId]="recruiter._id"></cn-recruiter-dashboard-qcard-view>
              </div>
              <div  id="applied" class="tab-pane fade"  [hidden]="!showQCard">
                <cn-recruiter-dashboard-qcard-view (addappliedToCartIds)="appliedToCartIds($event)" (addShortListedToCartIds)="shortlistToCartIds($event)" [showButton]="buttonModel" (removeIDs)="removeFromIds($event)" (removeRejectedIDs)="removeFromRejectedList($event)" (currentrejected)="rejectedIds($event)" [listName]="appliedList" [candidates]="candidateApplied" [jobPosterModel]="selectedJobProfile" [recruiterId]="recruiter._id"></cn-recruiter-dashboard-qcard-view>
              </div>
              <div  id="rejected"  class="tab-pane fade"  [hidden]="!showQCard">
                <cn-recruiter-dashboard-qcard-view (addappliedToCartIds)="appliedToCartIds($event)" (addShortListedToCartIds)="shortlistToCartIds($event)"  [showButton]="buttonModel" (removeIDs)="removeFromIds($event)" (removeRejectedIDs)="removeFromRejectedList($event)" (currentrejected)="rejectedIds($event)" [listName]="rejecteList"  [jobPosterModel]="selectedJobProfile" [candidates]="candidateRejected"  [recruiterId]="recruiter._id"></cn-recruiter-dashboard-qcard-view>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="post-new-job" class="tab-pane fade clearfix">
        <cn-job-poster></cn-job-poster>
      </div>
    </div>
  </div>
</div>
