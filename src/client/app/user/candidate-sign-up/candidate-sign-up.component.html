<section class="main-form-wrapper registration">
  <cn-user-header [MainHeaderMenuHideShow]="mainHeaderMenuHideShow"></cn-user-header>

  <div *ngIf="!isChrome && isToasterVisible" #toaster id="snackbar">{{getMessages().BROWSER_ALERT_MSG}}
    <button class="button-style" (click)="closeToaster()">x</button>
  </div>
  <div class="content">
      <div *ngIf="isGuideMessageVisible" class="welcome-message">
          <h3>Welcome !</h3>
          <p>{{getMessages().GUIDE_MESSAGE_FOR_NEW_VIEWER}}</p>
      </div>
    <h5>Register </h5>
    <form [formGroup]="userForm" (submit)="onSubmit()" class="employee-form" novalidate>

      <div class="form-group">
        <cn-control-messages [control]="userForm.controls.first_name"
                             [submitStatus]="submitStatus"></cn-control-messages>
        <input type="text" formControlName="first_name" id="first_name" class="form-control" maxlength="20"
               autocomplete="off" required/>
        <label>First Name</label>
      </div>

      <div class="form-group">
        <cn-control-messages [control]="userForm.controls.last_name"
                             [submitStatus]="submitStatus"></cn-control-messages>
        <input type="text" formControlName="last_name" id="last_name" class="form-control" autocomplete="off"
               maxlength="20" required/>
        <label>Last Name</label>
      </div>

      <div class="form-group">
        <cn-control-messages [control]="userForm.controls.email" [submitStatus]="submitStatus"></cn-control-messages>
        <input type="email" formControlName="email" id="email" maxlength="40" class="form-control" autocomplete="off"
               required/>
        <label>Email</label>
      </div>

      <div class="input-group form-group">
        <cn-control-messages [control]="userForm.controls.mobile_number"
                             [submitStatus]="submitStatus"></cn-control-messages>
        <span class="input-group-addon">+91</span>
        <input type="number" formControlName="mobile_number" id="mobile_number" class="form-control" required/>
        <label>Mobile</label>
      </div>

      <div class="form-group">
        <cn-control-messages [control]="userForm.controls.password" [submitStatus]="submitStatus"></cn-control-messages>
        <input type="password" formControlName="password" id="password" [(ngModel)]="model.password"
               class="form-control" (blur)="makePasswordConfirm()" required/>
        <label>Password</label>
      </div>

      <div class="form-group">
        <cn-control-messages [control]="userForm.controls.confirm_password"
                             [submitStatus]="submitStatus"></cn-control-messages>
        <input type="password" formControlName="confirm_password" id="confirm_password"
               [(ngModel)]="model.confirm_password" (blur)="makePasswordConfirm()" class="form-control" required/>
        <label>Confirm Password</label>
        <span class="error-messages"
              *ngIf="isPasswordConfirm == true"> {{passwordMismatchMessage}} </span>
      </div>

      <div class="form-group">
        <div id="yearf" ng2-auto-complete
             [source]="validBirthYearList"
             min-chars="2"
             max-num-list="10"
             [accept-user-input]="false"
             (ngModelChange)="selectYearModel($event)"
             no-match-found-text="{{yearMatchNotFoundMessage}}">
          <input formControlName="birth_year" [ngModel]="passingYear" id="birth_year" class="form-control"
                 placeholder="" required autocomplete="off"/>
          <label class="select-label">Year of Birth</label>
          <div class="error-messages" *ngIf='userForm.get("birth_year").value == undefined'>{{birthYearErrorMessage}}
          </div>
        </div>
      </div>

      <div class="col-sm-10 col-xs-11 error-msg alert alert-danger form-alert" [hidden]="isShowErrorMessage"><b>{{
        error_msg }}</b></div>
      <div class="button-group">
        <button type="submit" class="btn btn-success">Create my account</button>
      </div>
    </form>
  </div>
</section>
